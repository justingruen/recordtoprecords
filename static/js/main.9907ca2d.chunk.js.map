{"version":3,"sources":["btn_google_signin_light_normal_web.png","turntable_1.jpg","record-player.jpg","vinyl_1.jpg","turntable_2.jpg","serviceWorker.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/SignOut/index.js","constants/routes.js","components/Pieces/useform.js","components/Pieces/button.js","components/Pieces/actionbutton.js","components/Pieces/controls.js","components/Pieces/input.js","components/Pieces/checkbox.js","components/Pieces/popup.js","components/ExtraComponents/copyright.js","components/PasswordForget/index.js","components/SignUp/index.js","constants/roles.js","constants/errors.js","components/SignIn/index.js","components/Session/context.js","components/Session/withAuthentication.js","components/Session/withAuthorization.js","components/Session/withEmailVerification.js","components/Navigation/index.js","components/AboutUs/index.js","components/Home/index.js","components/App/cartitem.js","components/App/appnav.js","components/Catalog/index.js","components/PasswordChange/index.js","components/Account/index.js","components/Pieces/usetable.js","components/Admin/userform.js","components/Pieces/notification.js","components/Admin/userlist.js","components/Pieces/confirmdialog.js","components/Admin/itemform.js","components/Admin/itemslist.js","components/Admin/index.js","components/App/TopBanner.js","components/Footer/index.js","components/ExtraComponents/drawer.js","components/App/index.js","index.js","RTR_Logo.svg"],"names":["module","exports","Boolean","window","location","hostname","match","FirebaseContext","React","createContext","withFirebase","Component","props","Consumer","firebase","config","apiKey","process","REACT_APP_API_KEY","authDomain","REACT_APP_AUTH_DOMAIN","databaseURL","REACT_APP_DATABASE_URL","projectId","REACT_APP_PROJECT_ID","storageBucket","REACT_APP_STORAGE_BUCKET","messagingSenderId","REACT_APP_MESSAGING_SENDER_ID","Firebase","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignInWithGoogle","signInWithPopup","googleProvider","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","doSendEmailVerification","sendEmailVerification","url","REACT_APP_CONFIRMATION_EMAIL_REDIRECT","doDeleteCurrentUser","delete","user","uid","db","ref","users","onAuthUserListener","next","fallback","onAuthStateChanged","authUser","once","then","snapshot","dbUser","val","roles","emailVerified","providerData","item","items","prodimage","stor","prodimages","app","initializeApp","this","emailAuthProvider","EmailAuthProvider","database","storage","GoogleAuthProvider","useStyles","makeStyles","theme","link","textDecoration","color","classes","Typography","component","Link","className","variant","underline","onClick","HOME","SIGN_UP","SIGN_IN","CATALOG","ACCOUNT","ADMIN","ABOUTUS","PASSWORD_FORGET","ADMIN_USERS","ADMIN_USERDETAILS","ADMIN_ITEMS","ADMIN_ITEMDETAILS","ADMIN_ITEMSADD","useForm","initialFState","validateOnChange","validate","useState","state","setState","errors","setErrors","handleInputChange","e","target","name","value","resetForm","Form","children","other","autoComplete","root","margin","spacing","label","textTransform","minWidth","primary","backgroundColor","secondary","Controls","Input","type","error","onChange","TextField","helperText","Checkbox","FormControl","FormControlLabel","control","checked","convertToDefEventPara","Button","text","size","borderRadius","style","ActionButton","Popup","title","openPopup","closePopup","setOpenPopup","setClosePopup","Dialog","open","onClose","maxwidth","DialogTitle","DialogContent","Copyright","Container","align","href","Date","getFullYear","paper","marginTop","display","flexDirection","alignItems","logo","form","width","submit","INITIAL_STATE","PasswordForgetTitle","maxWidth","CssBaseline","Avatar","fontSize","PasswordForgetPage","PasswordForgetForm","fieldValues","temp","test","Object","values","every","x","setPage","setClosePopupSignUp","onSubmit","event","catch","preventDefault","fullWidth","autoFocus","Grid","container","xs","marginRight","Box","mt","username","passwordOne","passwordTwo","isAdmin","SignUpTitle","SignUpForm","history","useHistory","set","push","ROUTES","err","console","log","code","sm","justify","SignInTitle","SignInForm","SignInPage","socialAuthUser","displayName","message","padding","border","src","GoogleLogo","page","stylelink","useLogo","setOpenpop","AuthUserContext","withAuthentication","WithAuthentication","JSON","parse","localStorage","getItem","listener","setItem","stringify","removeItem","Provider","withAuthorization","condition","compose","withRouter","withEmailVerification","WithEmailVerification","onSendEmailVerification","isSent","map","provider","providerId","includes","needsEmailVerification","disabled","NavigationAuth","to","marginBottom","NavigationNonAuth","SignIn","Navigation","AboutUs","useEffect","setCurrentPage","direction","alignContent","paddingTop","RTRLogo","main","background","TurnTableImg","backgroundRepeat","backgroundSize","gridmain","paddingBottom","fontWeight","subtitle","catalogbutton","Home","useTheme","matches","useMediaQuery","breakpoints","only","down","disableGutters","RecordPlayer","Vinyl","TurnTable2","flexGrow","rootcheckout","image","height","img","maxHeight","menuitem","cursor","checkout","CartItem","setCartUpdate","cart","ButtonBase","disableRipple","alt","imageurl","gutterBottom","itemname","genre","IconButton","itemUID","cartCopy","itemIndex","findIndex","quantity","splice","cartString","onArrowLeftClick","onArrowRightClick","onRemoveClick","parseFloat","price","toFixed","CartMenu","anchorEl","setAnchorEl","Fragment","length","keepMounted","MenuItem","key","button","appbar","toolbar","albumicon","shoppingcarticon","lefttypography","righttypography","containermainPC","paddingLeft","paddingRight","containermainMobile","iconbutton","listxs","list","up","listitem","HideOnScroll","trigger","useScrollTrigger","Slide","appear","in","INITIAL_PAGE","home","catalog","aboutus","Drawer","drawerState","setDrawerState","tabsList","anchor","List","tab","ListItem","function","route","ListItemText","currentPage","cartUpdate","setCart","localCart","itemCount","setItemCount","authTabsList","totalQuantity","forEach","property","AppBar","elevation","position","Hidden","smDown","Toolbar","justifyContent","menulink","account","currentTarget","edge","Badge","badgeContent","mdUp","wrap","minHeight","objectFit","addButton","loading","itemsmatrix2","itemsmatrix3","Catalog","setCallBack","CustomPaper","Paper","tempitem","existingItem","find","cartItem","stringCart","addItem","itemsObject","itemsList","keys","cols2","col2","donotuse","cols3","col3","off","fontStyle","mdDown","row","indexOf","lgUp","PasswordChangeForm","isInvalid","placeholder","SIGN_IN_METHODS","id","LoginManagementBase","fetchSignInMethods","fetchSignInMethodsForEmail","activeSignInMethods","onSocialLoginLink","linkWithPopup","onUnlink","unlink","onDefaultLoginLink","credential","linkAndRetrieveDataWithCredential","signInMethod","onlyOneLeft","isEnabled","onLink","SocialLoginToggle","DefaultLoginToggle","LoginManagement","PasswordChange","table","palette","useTable","records","headCells","filterFn","pages","rowsPerPage","setRowsPerPage","order","setOrder","orderBy","setOrderBy","handleChangePage","newPage","handleChangeRowsPerPage","parseInt","descendingComparator","a","b","TblContainer","Table","TblHead","TableHead","TableRow","headCell","TableCell","sortDirection","disabledSorting","TableSortLabel","active","cellId","TblPagination","TablePagination","rowsPerPageOptions","count","onChangePage","onChangeRowsPerPage","recordsAfterPagingAndSorting","array","comparator","stabilizedThis","el","index","sort","stableSort","fn","getComparator","slice","UserDetails","userForEdit","setNotify","update","isOpen","top","Notification","notify","handleClose","reason","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","Alert","severity","pageContent","searchInput","disableSorting","UserList","setFilterfn","setUserForEdit","on","usersObject","usersList","CircularProgress","InputProps","startAdornment","InputAdornment","filter","TableBody","openInPopup","dialog","dialogTitle","textAlign","dialogContent","dialogActions","titleIcon","ConfirmDialog","confirmDialog","setConfirmDialog","NotListedLocation","DialogActions","onConfirm","imageprev","ItemDetails","originalName","setOriginalName","imageChange","setImageChange","itemForEdit","createNew","setCreateNew","put","getDownloadURL","orderByChild","equalTo","exists","accept","files","reader","FileReader","file","onloadend","result","alert","readAsDataURL","newButton","right","ItemList","setItemForEdit","subTitle","startIcon","remove","exact","path","TopBanner","maincontainer","bottom","topgrid","quicklinks","Footer","gridlinks","drawer","createMuiTheme","default","typography","fontFamily","overrides","MuiCssBaseline","MuiIconButton","flexFlow","ThemeProvider","render","Account","Admin","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9907ca2d.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/turntable_1.e22e8d5e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/record-player.3ebffe8e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/vinyl_1.8aff9809.jpg\";","module.exports = __webpack_public_path__ + \"static/media/turntable_2.799c8910.jpg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\r\n\r\nconst FirebaseContext = React.createContext(null)\r\n\r\nexport const withFirebase = Component => props => (\r\n    <FirebaseContext.Consumer>\r\n        {firebase => <Component {...props} firebase={firebase} />}\r\n    </FirebaseContext.Consumer>\r\n);\r\n\r\nexport default FirebaseContext","import app from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport 'firebase/database'\r\nimport 'firebase/storage'\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n} \r\n\r\nclass Firebase {\r\n  constructor() {\r\n      app.initializeApp(config)\r\n\r\n      this.emailAuthProvider = app.auth.EmailAuthProvider;\r\n      this.auth = app.auth();\r\n      this.db = app.database();\r\n      this.stor = app.storage();\r\n\r\n      this.googleProvider = new app.auth.GoogleAuthProvider();\r\n  }\r\n\r\n  // *** Auth API ***\r\n\r\n  doCreateUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithGoogle = () => \r\n    this.auth.signInWithPopup(this.googleProvider);\r\n\r\n  doSignOut = () => this.auth.signOut();\r\n\r\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n  doPasswordUpdate = password => \r\n    this.auth.currentUser.updatePassword(password);\r\n\r\n  doSendEmailVerification = () =>\r\n    this.auth.currentUser.sendEmailVerification({\r\n      url: process.env.REACT_APP_CONFIRMATION_EMAIL_REDIRECT,\r\n    })\r\n\r\n  doDeleteCurrentUser = () =>\r\n    this.auth.currentUser.delete();\r\n\r\n  // *** User API ***\r\n\r\n  user = uid => this.db.ref(`users/${uid}`);\r\n\r\n  users = () => this.db.ref('users');\r\n\r\n  // *** Merge Auth and DB User API ***\r\n\r\n  onAuthUserListener = (next, fallback) =>\r\n    this.auth.onAuthStateChanged(authUser => {\r\n      if (authUser) {\r\n        this.user(authUser.uid)\r\n          .once('value')\r\n          .then(snapshot => {\r\n            const dbUser = snapshot.val()\r\n\r\n            // default empty roles\r\n            if (!dbUser.roles) {\r\n              dbUser.roles = {}\r\n            }\r\n\r\n            // merge auth and db user\r\n            authUser = {\r\n              uid: authUser.uid,\r\n              email: authUser.email,\r\n              emailVerified: authUser.emailVerified,\r\n              providerData: authUser.providerData,\r\n              ...dbUser,\r\n            }\r\n\r\n            next(authUser)\r\n          })\r\n      } else {\r\n        fallback()\r\n      }\r\n    })\r\n\r\n  // *** Items API ***\r\n  item = uid => this.db.ref(`items/${uid}`)\r\n\r\n  items = () => this.db.ref('items')\r\n\r\n  // *** Storage API ***\r\n  prodimage = uid => this.stor.ref(`prodimages/${uid}`)\r\n\r\n  prodimages = uid => this.stor.ref('prodimages')\r\n}\r\n\r\nexport default Firebase;","import FirebaseContext, { withFirebase } from './context'\r\nimport Firebase from './firebase'\r\n\r\nexport default Firebase\r\n\r\nexport { FirebaseContext, withFirebase }","import React from 'react';\r\n\r\nimport { withFirebase } from '../Firebase'\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { Link, Typography } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n  }\r\n}));\r\n\r\nfunction SignOut({ firebase }) {\r\n  const classes = useStyles()\r\n  \r\n  return (\r\n    <Typography component='div'>\r\n      <Link\r\n        className={ classes.link }\r\n        variant='body1'\r\n        underline='hover'\r\n        component='button'\r\n        onClick={firebase.doSignOut}\r\n      >\r\n        Sign Out\r\n      </Link>\r\n    </Typography>\r\n  )\r\n}\r\n \r\nexport default withFirebase(SignOut)","export const HOME = '/recordtoprecords'\r\nexport const SIGN_UP = '/recordtoprecords/signup'\r\nexport const SIGN_IN = '/recordtoprecords/signin'\r\n// export const HOME = '/home'\r\nexport const CATALOG = '/recordtoprecords/catalog'\r\nexport const ACCOUNT = '/recordtoprecords/account'\r\nexport const ADMIN = '/recordtoprecords/admin'\r\nexport const ABOUTUS = '/recordtoprecords/aboutus'\r\nexport const PASSWORD_FORGET = '/recordtoprecords/pw-forget'\r\nexport const ADMIN_USERS = '/recordtoprecords/admin/users'\r\nexport const ADMIN_USERDETAILS = '/recordtoprecords/admin/users/:id'\r\nexport const ADMIN_ITEMS = '/recordtoprecords/admin/items'\r\nexport const ADMIN_ITEMDETAILS = '/recordtoprecords/admin/items/:id'\r\nexport const ADMIN_ITEMSADD = '/recordtoprecords/admin/items/add'\r\n","import React, { useState } from 'react'\r\n\r\nexport default function useForm(initialFState, validateOnChange=false, validate) {\r\n  const [state, setState] = useState(initialFState)\r\n  const [errors, setErrors] = useState({})\r\n\r\n  const handleInputChange = e => {\r\n    const { name, value } = e.target\r\n    setState({\r\n      ...state,\r\n      [name]: value\r\n    })\r\n    if(validateOnChange)\r\n      validate({[name]: value})\r\n  }\r\n\r\n  const resetForm = () => {\r\n    setState(initialFState)\r\n    setErrors({})\r\n  }\r\n\r\n  return {\r\n    state, setState, errors, setErrors, handleInputChange, resetForm\r\n  }\r\n}\r\n\r\nexport function Form(props) {\r\n\r\n  const { children, ...other } = props\r\n\r\n  return (\r\n    <form autoComplete='off' {...other}>\r\n      {children}\r\n    </form>\r\n  )\r\n}","import React from 'react'\r\nimport { Button as MuiButton, makeStyles } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    margin: theme.spacing(0.5)\r\n  },\r\n  label: {\r\n    textTransform: 'none'\r\n  }\r\n}))\r\n\r\nexport default function Button(props) {\r\n\r\n  const { text, size, borderRadius, color, variant, onClick, ...other} = props\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div>\r\n      <MuiButton\r\n        classes={{root: classes.root, label: classes.label}}\r\n        variant={variant || 'outlined'}\r\n        size={size || 'large'}\r\n        style={{borderRadius: borderRadius}}\r\n        color={color}\r\n        onClick={onClick}\r\n        {...other}\r\n      >\r\n        {text}\r\n      </MuiButton>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Button, makeStyles } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    minWidth: 0,\r\n    margin: theme.spacing(0.5)\r\n  },\r\n  primary: {\r\n    backgroundColor: '#ffd0cc',\r\n    '& .MuiButton-label': {\r\n      color: '#ff4081'\r\n    }\r\n  },\r\n  secondary: {\r\n    backgroundColor: '#a9cbff',\r\n    '& .MuiButton-label': {\r\n      color: '#3f51b5'\r\n    }\r\n  },\r\n}))\r\n\r\nexport default function ActionButton(props) {\r\n\r\n  const {color, children, onClick } = props;\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        className={`${classes.root} ${classes[color]}`}\r\n        onClick={onClick}\r\n      >\r\n        {children}\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n","import Checkbox from './checkbox'\r\nimport Button from './button'\r\nimport Input from './input'\r\nimport ActionButton from './actionbutton'\r\n\r\n// Ideas: Attributes (ie. Genre) and Date Picker for Released\r\n\r\nconst Controls = {\r\n  Input,\r\n  Checkbox,\r\n  Button,\r\n  ActionButton,\r\n}\r\n\r\nexport default Controls","import React from 'react'\r\n\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nexport default function Input(props) {\r\n  const { name, label, type, value, error=null, onChange, ...other } = props\r\n\r\n  return (\r\n    <TextField\r\n      variant='outlined'\r\n      label={label}\r\n      name={name}\r\n      type={type}\r\n      value={value}\r\n      onChange={onChange}\r\n      {...other}\r\n      {...(error && {error: true, helperText: error})}\r\n    />\r\n  )\r\n}","import React from 'react'\r\nimport { FormControl, FormControlLabel, Checkbox as MuiCheckbox } from '@material-ui/core'\r\n\r\nexport default function Checkbox(props){\r\n  const { name, color, label, value, onChange } = props\r\n\r\n  const convertToDefEventPara = (name, value) => ({\r\n    target: {\r\n      name, value\r\n    }\r\n  })\r\n\r\n  return (\r\n    <FormControl>\r\n      <FormControlLabel\r\n        control={<MuiCheckbox \r\n          name={name}\r\n          color={color}\r\n          checked={value}\r\n          onChange={e => onChange(convertToDefEventPara(name, e.target.checked))}\r\n        />}\r\n        label={label}\r\n      />\r\n    </FormControl>\r\n  )\r\n}","import React from 'react'\r\nimport { Dialog, DialogTitle, DialogContent, makeStyles } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  \r\n}))\r\n\r\nexport default function Popup(props) {\r\n  const { title, children, openPopup, setOpenPopup, closePopup, setClosePopup } = props\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    // TODO: Center everything\r\n    <Dialog open={openPopup} onClose={closePopup} maxwidth='md' classes={{ root: classes.root }}>\r\n      <DialogTitle>\r\n        {title}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        { children }\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}","import React from 'react'\r\nimport {Typography, Container} from '@material-ui/core';\r\nimport Link from '@material-ui/core/Link'\r\n\r\nexport default function Copyright(props) {\r\n  const { ...other } = props\r\n  return(\r\n    <Container {...other}>\r\n      <Typography variant='body2' align='center'>\r\n        {'Copyright © '}\r\n        <Link color='inherit' href='https://justingruen.com/' target='_blank'>\r\n          Justin Gruen\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}","import React, { useState } from 'react';\r\n\r\nimport { withFirebase } from '../Firebase'\r\n\r\nimport Copyright from '../ExtraComponents/copyright'\r\nimport useForm, { Form } from '../Pieces/useform'\r\nimport Controls from '../Pieces/controls'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport AlbumIcon from '@material-ui/icons/Album'\r\nimport { CssBaseline, Link, Container, Avatar, Typography, Grid, Box } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(2),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n    logo: {\r\n    //TODO: Make logo bigger\r\n    margin: theme.spacing(2),\r\n    backgroundColor: '#000000',\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(0),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}))\r\n\r\nconst PasswordForgetPage = () => (\r\n  <div>\r\n    <h1>PasswordForget</h1>\r\n    <PasswordForgetForm />\r\n  </div>\r\n)\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  error: null,\r\n}\r\n\r\nfunction PasswordForgetFormBase(props) {\r\n  const validate = (fieldValues = state) => {\r\n    let temp = {...errors}\r\n    if('email' in fieldValues)\r\n      temp.email = fieldValues.email ? (/$^|.+@.+..+/).test(fieldValues.email) ? '' : 'Email is not valid' : 'This field is required'\r\n    setErrors({\r\n      ...temp\r\n    })\r\n\r\n    if(fieldValues == state)\r\n      return Object.values(temp).every(x => x === '')    \r\n  }\r\n\r\n  const { state, setState, errors, setErrors, handleInputChange } = useForm(INITIAL_STATE, true, validate)\r\n  const { setPage, setClosePopupSignUp } = props\r\n  const [firebase] = useState(props.firebase)\r\n  const classes = useStyles()\r\n\r\n  function onSubmit(event) {\r\n    const { email } = state\r\n\r\n    firebase\r\n      .doPasswordReset(email)\r\n      .then(() => {\r\n        setClosePopupSignUp(false)\r\n        setState({...INITIAL_STATE})\r\n      })\r\n      .catch(error => {\r\n        setState(...state, error)\r\n      })\r\n\r\n    event.preventDefault()\r\n  }\r\n\r\n  return (\r\n    <Container component='main' maxWidth='xs'>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Form className={classes.form} onSubmit={onSubmit}>\r\n          <Controls.Input\r\n            name='email'\r\n            label='Email'\r\n            margin='normal'\r\n            value={state.email || ''}\r\n            onChange={handleInputChange}\r\n            error={ errors.email }\r\n            fullWidth\r\n            autoFocus\r\n          />\r\n          <Controls.Button\r\n            type='submit'\r\n            text='Submit'\r\n            variant='contained'\r\n            color='primary'\r\n            fullWidth\r\n            className={classes.submit}\r\n          />\r\n          <Grid container>\r\n            <Grid item xs style={{marginRight: '20px'}}>\r\n              <Link href='#' variant='body2' onClick={() => setPage('SignIn')}> \r\n                Sign In\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link href='#' variant='body2' onClick={() => setPage('SignUp')}>\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  )\r\n}\r\n\r\nfunction PasswordForgetTitle() {\r\n  const classes = useStyles()\r\n\r\n  return(\r\n    <Container component='main' maxWidth='xs'>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.logo} variant='circle'>\r\n          <AlbumIcon fontSize='small'/>\r\n        </Avatar>\r\n        <Typography component='h1' variant='h6'>\r\n          Forgot Your Password?\r\n        </Typography>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\n// const PasswordForgetLink = () => (\r\n//   <Link href='#' variant='body2' onClick={()}> \r\n//     Forgot Password?\r\n//   </Link>\r\n// )\r\n\r\nexport default PasswordForgetPage;\r\n\r\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\r\n\r\nexport { PasswordForgetForm, PasswordForgetTitle }","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport { withFirebase } from '../Firebase'\r\nimport useForm, { Form } from '../Pieces/useform'\r\nimport Controls from '../Pieces/controls'\r\nimport Copyright from '../ExtraComponents/copyright'\r\nimport * as ROUTES from '../../constants/routes'\r\nimport * as ROLES from '../../constants/roles'\r\nimport * as ERRORS from '../../constants/errors'\r\n\r\n\r\nimport Link from '@material-ui/core/Link'\r\nimport AlbumIcon from '@material-ui/icons/Album'\r\nimport Container from '@material-ui/core/Container'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { CssBaseline, Typography } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(2),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n    logo: {\r\n    //TODO: Make logo bigger\r\n    margin: theme.spacing(2),\r\n    backgroundColor: '#000000',\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(0),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}))\r\n\r\nfunction SignUpPage() {\r\n  return (\r\n    <div>\r\n      <SignUpForm />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst INITIAL_STATE = {\r\n  username: '',\r\n  email: '',\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  isAdmin: false,\r\n  error: null\r\n}\r\n\r\nfunction SignUpTitle() {\r\n  const classes = useStyles()\r\n\r\n  return(\r\n    <Container component='main' maxWidth='xs'>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.logo} variant='circle'>\r\n          <AlbumIcon fontSize='small'/>\r\n        </Avatar>\r\n        <Typography component='h1' variant='h6'>\r\n          Sign Up\r\n        </Typography>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nfunction SignUpFormBase(props) {\r\n  const validate = (fieldValues = state) => {\r\n    let temp = {...errors}\r\n    if('username' in fieldValues)\r\n      temp.username = fieldValues.username ? '' : 'This field is required'\r\n    if('email' in fieldValues)\r\n      temp.email = fieldValues.email ? (/$^|.+@.+..+/).test(fieldValues.email) ? '' : 'Email is not valid' : 'This field is required'\r\n    if('passwordOne' in fieldValues)\r\n      temp.passwordOne = fieldValues.passwordOne ? '' : 'This field is required'\r\n    if('passwordTwo' in fieldValues)\r\n      temp.passwordTwo = fieldValues.passwordTwo ? '' : 'This field is required'\r\n    setErrors({\r\n      ...temp\r\n    })\r\n\r\n    if(fieldValues == state)\r\n      return Object.values(temp).every(x => x === '')    \r\n  }\r\n\r\n  const { state, setState, errors, setErrors, handleInputChange } = useForm(INITIAL_STATE, true, validate)\r\n  const { setPage, setClosePopupSignUp } = props\r\n  const [firebase] = useState(props.firebase)\r\n  const history = useHistory()\r\n  const classes = useStyles()\r\n\r\n  function onSubmit(e) {\r\n    e.preventDefault()\r\n    if(validate()){\r\n      if (state.passwordOne === state.passwordTwo){\r\n        const { username, email, passwordOne, isAdmin } = state;\r\n        const roles = {}\r\n    \r\n        if (isAdmin) {\r\n          roles[ROLES.ADMIN] = ROLES.ADMIN\r\n        }\r\n     \r\n        firebase\r\n          .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n          .then(authUser => {\r\n            // Create a user in your Firebase realtime database\r\n            return firebase\r\n              .user(authUser.user.uid)\r\n              .set({\r\n                username,\r\n                email,\r\n                roles,\r\n              });\r\n          })\r\n          .then(() => {\r\n            setClosePopupSignUp()\r\n            setState({ ...INITIAL_STATE }); // TODO: Is this necessary?\r\n            history.push(ROUTES.ACCOUNT);\r\n          })\r\n          .catch(err => {\r\n            let error = err\r\n            console.log(error.code)\r\n            if (error.code === ERRORS.ERROR_CODE_ACCOUNT_EXISTS) \r\n              setState({ ...state, error: ERRORS.ERROR_MSG_ACCOUNT_EXISTS })\r\n            if (error.code === ERRORS.ERROR_CODE_WEAK_PASSWORD)\r\n              setState({ ...state, error: ERRORS.ERROR_MSG_WEAK_PASSWORD})\r\n          }); \r\n      } else {\r\n        setState({\r\n          ...state,\r\n          error: 'Passwords do not match'\r\n        })\r\n      }\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <Container component='main' maxWidth='xs'>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Form className={classes.form} onSubmit={onSubmit}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <Controls.Input\r\n                name='username'\r\n                label='Full name'\r\n                fullWidth\r\n                value={state.username || ''}\r\n                onChange={handleInputChange}\r\n                error={ errors.username }\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Controls.Input\r\n                name='email'\r\n                label='Email'\r\n                fullWidth\r\n                value={state.email || ''}\r\n                onChange={handleInputChange}\r\n                error={ errors.email }\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <Controls.Input\r\n                name='passwordOne'\r\n                label='Password'\r\n                fullWidth\r\n                type='password'\r\n                value={state.passwordOne || ''}\r\n                onChange={handleInputChange}\r\n                error={ errors.passwordOne }\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <Controls.Input\r\n                name='passwordTwo'\r\n                label='Re-type Password'\r\n                fullWidth\r\n                type='password'\r\n                value={state.passwordTwo || ''}\r\n                onChange={handleInputChange}\r\n                error={ errors.passwordTwo }\r\n              />\r\n            </Grid>\r\n            {/* <Grid item xs={12}>\r\n              <Controls.Checkbox\r\n                name='isAdmin'\r\n                label='Administrator'\r\n                value={state.isAdmin}\r\n                onChange={handleInputChange}\r\n                color='primary'\r\n              />\r\n            </Grid> */}\r\n          </Grid>\r\n          {state.error && <Typography variant='body1' component='div' align='center' style={{color: 'red'}}>\r\n                {state.error}\r\n          </Typography>}\r\n          <Controls.Button\r\n            type='submit'\r\n            text='Sign Up'\r\n            variant='contained'\r\n            color='primary'\r\n            fullWidth\r\n            className={classes.submit}\r\n          />\r\n          <Grid container justify='flex-end'>\r\n            <Grid item>\r\n              <Link href='#' variant='body2' onClick={() => setPage('SignIn')}>\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Form>\r\n        <Box mt={5}>\r\n          <Copyright />\r\n        </Box>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\n// const SignUpLink = () => (\r\n//   <p>\r\n//     Don't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\r\n//   </p>\r\n// );\r\n\r\nconst SignUpForm = withFirebase(SignUpFormBase);\r\n\r\nexport default SignUpPage\r\n\r\nexport { SignUpForm, SignUpTitle }","export const ADMIN = 'ADMIN'","export const ERROR_CODE_ACCOUNT_EXISTS =\r\n  'auth/email-already-in-use';\r\nexport const ERROR_MSG_ACCOUNT_EXISTS = `\r\n  Email already in use\r\n`\r\nexport const ERROR_CODE_WEAK_PASSWORD = \r\n  'auth/weak-password'\r\nexport const ERROR_MSG_WEAK_PASSWORD = \r\n  'Password must be atleast 6 characters'\r\n\r\nexport const ERROR_CODE_ACCOUNT_NOTFOUND =\r\n  'auth/user-not-found'\r\nexport const ERROR_MSG_ACCOUNT_NOTFOUND =\r\n  'No user found for email entered'\r\n\r\nexport const ERROR_CODE_ACCOUNT_WRONGPASS =\r\n  'auth/wrong-password'\r\nexport const ERROR_MSG_ACCOUNT_WRONGPASS =\r\n  'Incorrect Password'","\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useHistory, Link as ReactLink } from 'react-router-dom';\r\n\r\nimport useForm, { Form } from '../Pieces/useform'\r\nimport Controls from '../Pieces/controls'\r\nimport Popup from '../Pieces/popup'\r\nimport Copyright from '../ExtraComponents/copyright'\r\nimport { PasswordForgetForm, PasswordForgetTitle } from '../PasswordForget';\r\nimport { SignUpForm, SignUpTitle } from '../SignUp'\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport * as ERRORS from '../../constants/errors'\r\n\r\nimport Link from '@material-ui/core/Link'\r\nimport Container from '@material-ui/core/Container'\r\nimport AlbumIcon from '@material-ui/icons/Album'\r\nimport Box from '@material-ui/core/Box'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport { CssBaseline, Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles'\r\n\r\nimport GoogleLogo from '../../btn_google_signin_light_normal_web.png'\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  password: '',\r\n  error: null,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(0),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  logo: {\r\n    //TODO: Make logo bigger\r\n    margin: theme.spacing(2),\r\n    backgroundColor: '#000000',\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(0),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2)\r\n  },\r\n}))\r\n\r\nfunction SignInPage(props) {\r\n  const [openPopup, setOpenPopup] = useState(false)\r\n  const [page, setPage] = useState('SignIn')\r\n\r\n  function setClosePopupSignUp() {\r\n    setOpenPopup(false)\r\n    setPage('SignIn')\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <Typography component='div' align={props.align} style={props.stylelink}>\r\n        <Link\r\n          style={{ color: 'black' }}\r\n          variant='body1'\r\n          underline='hover'\r\n          component='button'\r\n          onClick={() => setOpenPopup(true)}\r\n        >\r\n          Login\r\n        </Link>\r\n      </Typography>\r\n      <Popup\r\n        title={page === 'SignIn' \r\n          ? <SignInTitle /> : page === 'SignUp' \r\n          ? <SignUpTitle /> : page === 'PasswordForget'\r\n          ? <PasswordForgetTitle /> : null}\r\n        useLogo={true}\r\n        openPopup={openPopup}\r\n        setOpenpop={setOpenPopup}\r\n        closePopup={setClosePopupSignUp}\r\n      >\r\n        {page === 'SignIn'    // I feel like theres a better way of doing this\r\n          ? <SignInForm setOpenPopup={setOpenPopup} setPage={setPage}/> \r\n          : page === 'SignUp'\r\n            ? <SignUpForm setClosePopupSignUp={setClosePopupSignUp} setPage={setPage}/>\r\n            : page === 'PasswordForget'\r\n              ? <PasswordForgetForm setClosePopupSignUp={setClosePopupSignUp} setPage={setPage}/> \r\n              : null\r\n        }\r\n\r\n        {/* <SignInGoogle />\r\n        <PasswordForgetLink />\r\n        <SignUpLink />  */}\r\n      </Popup>      \r\n    </>    \r\n  )\r\n}\r\n\r\nfunction SignInTitle() {\r\n  const classes = useStyles()\r\n\r\n  return(\r\n    <Container component='main' maxWidth='xs'>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.logo} variant='circle'>\r\n          <AlbumIcon fontSize='small'/>\r\n        </Avatar>\r\n        <Typography component='h1' variant='h6'>\r\n          Sign In\r\n        </Typography>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nfunction SignInFormBase(props){\r\n  const validate = (fieldValues = state) => {\r\n    let temp = {...errors}\r\n    if('email' in fieldValues)\r\n      temp.email = fieldValues.email ? (/$^|.+@.+..+/).test(fieldValues.email) ? '' : 'Email is not valid' : 'This field is required'\r\n    if('password' in fieldValues)\r\n      temp.password = fieldValues.password ? '' : 'This field is required'\r\n    setErrors({\r\n      ...temp\r\n    })\r\n\r\n    if(fieldValues == state)\r\n      return Object.values(temp).every(x => x === '')\r\n  }\r\n\r\n  const { state, setState, errors, setErrors, handleInputChange } = useForm(INITIAL_STATE, true, validate)\r\n  const { setPage, setOpenPopup } = props\r\n  const [firebase] = useState(props.firebase)\r\n  const history = useHistory()\r\n  const classes = useStyles()\r\n\r\n  function onSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    if(validate()){\r\n      const { email, password } = state;\r\n\r\n      firebase\r\n        .doSignInWithEmailAndPassword(email, password)\r\n        .then(() => {\r\n          setOpenPopup(false)\r\n          setState({ ...INITIAL_STATE });\r\n          history.push(ROUTES.HOME);  //Do we want to keep this?\r\n        })\r\n        .catch(err => {\r\n          let error = err\r\n          if (error.code === ERRORS.ERROR_CODE_ACCOUNT_NOTFOUND) \r\n            setState({ ...state, error: ERRORS.ERROR_MSG_ACCOUNT_NOTFOUND})\r\n          if (error.code === ERRORS.ERROR_CODE_ACCOUNT_WRONGPASS) \r\n            setState({ ...state, error: ERRORS.ERROR_MSG_ACCOUNT_WRONGPASS})\r\n        });\r\n    }\r\n  };  \r\n\r\n  return(\r\n      <div>\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            <Form className={classes.form} onSubmit={onSubmit}>\r\n              <Controls.Input\r\n                name='email'\r\n                label='Email'\r\n                margin='normal'\r\n                value={state.email || ''}\r\n                onChange={handleInputChange}\r\n                error={ errors.email }\r\n                fullWidth\r\n                autoFocus\r\n              />\r\n              <Controls.Input\r\n                name='password'\r\n                label='Password'\r\n                type='password'\r\n                margin='normal'\r\n                value={state.password || ''}\r\n                onChange={handleInputChange}\r\n                error={ errors.password }\r\n                fullWidth\r\n              />\r\n              {state.error && <Typography variant='body1' component='div' align='center' style={{color: 'red'}}>\r\n                {state.error}\r\n              </Typography>}\r\n              <Controls.Button\r\n                type='submit'\r\n                text='Sign In'\r\n                variant='contained'\r\n                color='primary'\r\n                fullWidth\r\n                className={classes.submit}\r\n              />\r\n              <Grid container>\r\n                <Grid item xs>\r\n                  <Link href='#' variant='body2' onClick={() => setPage('PasswordForget')}>\r\n                    Forgot Password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link href='#' variant='body2' onClick={() => setPage('SignUp')}>\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </Form>\r\n          </div>\r\n          <br />\r\n          <Typography component='div' variant='body1'>\r\n            <hr />\r\n          </Typography>\r\n          <br />\r\n          {/* <Grid container justify='center'>\r\n            <Grid item>\r\n              <SignInGoogle />\r\n            </Grid>\r\n          </Grid> */}\r\n          <Box mt={8}>\r\n            <Copyright />\r\n          </Box>\r\n        </Container>\r\n      </div>\r\n  )\r\n}\r\n\r\n{/* {useLogo &&<Title />} */}\r\n{/* <Typography variant='h6' component='div' align='center'>\r\n  {title}\r\n</Typography> */}\r\n\r\nfunction SignInGoogleBase(props) {\r\n  const [state, setState] = useState({...INITIAL_STATE})\r\n  const [firebase] = useState(props.firebase)\r\n  const history = useHistory()\r\n\r\n  function onSubmit(event) {\r\n    firebase\r\n      .doSignInWithGoogle()\r\n      .then(socialAuthUser => {\r\n        // Create a user in your Firebase realtime db too\r\n        return firebase\r\n          .user(socialAuthUser.user.uid)\r\n          .set({\r\n            username: socialAuthUser.user.displayName,\r\n            email: socialAuthUser.user.email,\r\n            roles: {},\r\n          })\r\n      })\r\n      .then(() => {\r\n        setState({ error: null });\r\n        history.push(ROUTES.HOME);\r\n      })\r\n      .catch(error => {\r\n        if (error.code === ERRORS.ERROR_CODE_ACCOUNT_EXISTS) {\r\n          error.message = ERRORS.ERROR_MSG_ACCOUNT_EXISTS\r\n        }\r\n      });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  const { error } = state;\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <button type='submit' style={{padding: '0px', border: '0', }}>\r\n        <img src={GoogleLogo}/>  \r\n      </button>\r\n\r\n      { error && <p>{error.message}</p>}\r\n    </form>\r\n  )\r\n}\r\n\r\nconst SignInForm = withFirebase(SignInFormBase)\r\n\r\nconst SignInGoogle = withFirebase(SignInGoogleBase)\r\n \r\nexport default SignInPage;\r\n\r\nexport { SignInForm, SignInGoogle }","import React from 'react'\r\n\r\nconst AuthUserContext = React.createContext(null)\r\n\r\nexport default AuthUserContext","import React from 'react';\r\n \r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\n \r\nconst withAuthentication = Component => {\r\n  class WithAuthentication extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n \r\n      this.state = {\r\n        authUser: JSON.parse(localStorage.getItem('authUser')),\r\n      };\r\n    }\r\n \r\n    componentDidMount() {\r\n      // essentially function(next, fallback)\r\n      this.listener = this.props.firebase.onAuthUserListener(\r\n        authUser => {\r\n          localStorage.setItem('authUser', JSON.stringify(authUser));\r\n          this.setState({ authUser })\r\n        },\r\n        () => {\r\n          localStorage.removeItem('authUser')\r\n          this.setState({ authUser: null })\r\n        },\r\n      );\r\n    }\r\n \r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n \r\n    render() {\r\n      return (\r\n        <AuthUserContext.Provider value={this.state.authUser}>\r\n          <Component {...this.props} />\r\n        </AuthUserContext.Provider>\r\n      );\r\n    }\r\n  }\r\n \r\n  return withFirebase(WithAuthentication);\r\n};\r\n \r\nexport default withAuthentication;","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { compose } from 'recompose'\r\n\r\nimport { withFirebase } from '../Firebase'\r\nimport * as ROUTES from '../../constants/routes'\r\nimport AuthUserContext from './context'\r\n\r\nconst withAuthorization = condition => Component => {\r\n  class withAuthorization extends React.Component {\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.onAuthUserListener(\r\n        authUser => {\r\n          if (!condition(authUser)){\r\n            this.props.history.push(ROUTES.SIGN_IN)\r\n          }\r\n        },\r\n        () => this.props.history.push(ROUTES.SIGN_IN),\r\n      )\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener()\r\n    }\r\n\r\n    render() {\r\n      return(\r\n        <AuthUserContext.Consumer>\r\n          {authUser =>\r\n            condition(authUser) ? <Component {...this.props} /> : null\r\n          }\r\n        </AuthUserContext.Consumer>\r\n      )\r\n    }\r\n  }\r\n\r\n  return compose(\r\n    withRouter,\r\n    withFirebase,\r\n  )(withAuthorization);\r\n};\r\n\r\nexport default withAuthorization","import React from 'react'\r\n\r\nimport AuthUserContext from './context'\r\nimport { withFirebase } from '../Firebase'\r\n\r\nconst needsEmailVerification = authUser => \r\n  authUser && \r\n  !authUser.emailVerified &&\r\n  authUser.providerData\r\n    .map(provider =>provider.providerId)\r\n    .includes('password');\r\n\r\nconst withEmailVerification = Component => {\r\n  class WithEmailVerification extends React.Component {\r\n    constructor(props) {\r\n      super(props)\r\n\r\n      this.state = { isSent: false };\r\n    }\r\n\r\n    onSendEmailVerification = () => {\r\n      this.props.firebase\r\n        .doSendEmailVerification()\r\n        .then(() => this.setState({ isSent: true }))\r\n    }\r\n\r\n    render() {\r\n      return(\r\n        <AuthUserContext.Consumer>\r\n          {authUser => \r\n            needsEmailVerification(authUser) ? (\r\n              <div>\r\n                {this.state.isSent ? (\r\n                  <p>\r\n                    Email confirmation sent: Check your inbox (Spam\r\n                    folder included) for a confirmation rmail.\r\n                    Refresh this page once you confirmed your rmail.\r\n                  </p>\r\n                ) : (\r\n                  <p>\r\n                    Verify your Email: Click the button to\r\n                    send a confirmation email, then check your \r\n                    inbox (Spam folder included) or send\r\n                    another.\r\n                  </p>\r\n                )}\r\n\r\n                {/* TODO: Change button to fancier button and CSS this page */}\r\n                <button\r\n                  type='button'\r\n                  onClick={this.onSendEmailVerification}\r\n                  disabled={this.state.isSent}\r\n                >\r\n                  Send confirmation Email\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <Component {...this.props} />\r\n            )\r\n          }\r\n        </AuthUserContext.Consumer>\r\n      )\r\n    }\r\n  }\r\n\r\n  return withFirebase(WithEmailVerification);\r\n}\r\n\r\nexport default withEmailVerification;","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport { Link as MuiLink, makeStyles, Typography } from '@material-ui/core'\r\n\r\nimport SignOutButton from '../SignOut'\r\nimport * as ROUTES from '../../constants/routes'\r\nimport * as ROLES from '../../constants/roles'\r\nimport SignInPage from '../SignIn/index'\r\n\r\nimport { AuthUserContext } from '../Session'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n  },\r\n}))\r\n \r\nconst Navigation = () => (\r\n  <div>\r\n    <AuthUserContext.Consumer>\r\n      {authUser =>\r\n        authUser ? <NavigationAuth authUser={authUser} /> : <NavigationNonAuth />\r\n      }\r\n    </AuthUserContext.Consumer>\r\n  </div>\r\n);\r\n\r\nfunction NavigationAuth({authUser}) {\r\n  const classes = useStyles()\r\n\r\n  return(\r\n    <div>\r\n      {/* Home */}\r\n      <MuiLink component='div'>\r\n        <Link to={ROUTES.HOME} className={ classes.link }>\r\n          <Typography component='div' variant='body1' align='left' style={{color: '#000000', marginBottom: '10px'}}>\r\n            Home\r\n          </Typography>\r\n        </Link>\r\n      </MuiLink>\r\n      {/* Catalog */}\r\n      <MuiLink component='div'>\r\n        <Link to={ROUTES.CATALOG} className={ classes.link }>\r\n          <Typography component='div' variant='body1' align='left' style={{color: '#000000', marginBottom: '10px'}}>\r\n            Catalog\r\n          </Typography>\r\n        </Link>\r\n      </MuiLink>\r\n      {/* Account */}\r\n      <MuiLink component='div'>\r\n        <Link to={ROUTES.ACCOUNT} className={ classes.link }>\r\n          <Typography component='div' variant='body1' align='left' style={{color: '#000000', marginBottom: '10px'}}>\r\n            Account\r\n          </Typography>\r\n        </Link>\r\n      </MuiLink>\r\n      {/* Admin */}\r\n      {!!authUser.roles[ROLES.ADMIN] && (\r\n        <MuiLink component='div'>\r\n          <Link to={ROUTES.ADMIN} className={ classes.link }>\r\n            <Typography component='div' variant='body1' align='left' style={{color: '#000000', marginBottom: '10px'}}>\r\n              Admin\r\n            </Typography>\r\n          </Link>\r\n        </MuiLink>\r\n      )}\r\n\r\n      <SignOutButton />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction NavigationNonAuth() {\r\n  const classes = useStyles()\r\n\r\n  return(\r\n    <div>\r\n      {/* Home */}\r\n      <MuiLink component='div'>\r\n        <Link to={ROUTES.HOME} className={ classes.link }>\r\n          <Typography component='div' variant='body1' align='left' style={{color: '#000000', marginBottom: '10px'}}>\r\n            Home\r\n          </Typography>\r\n        </Link>\r\n      </MuiLink>\r\n      {/* Catalog */}\r\n      <MuiLink component='div'>\r\n        <Link to={ROUTES.CATALOG} className={ classes.link }>\r\n          <Typography component='div' variant='body1' align='left' style={{color: '#000000', marginBottom: '10px'}}>\r\n            Catalog\r\n          </Typography>\r\n        </Link>\r\n      </MuiLink>\r\n      {/* Sign In */}\r\n      <SignInPage align={'left'} />\r\n    </div>\r\n  )\r\n}\r\n\r\n// const NavigationAuth = ({ authUser }) => (\r\n//   <div>\r\n//       <MuiLink component='div'>\r\n//         <Link to={ROUTES.HOME} className={ classes?.link}>\r\n//           <Typography component='div' variant='body1' style={{color: '#000000'}}>\r\n//             Home\r\n//           </Typography>\r\n//         </Link>\r\n//       </MuiLink>\r\n//       {/* <Link to={ROUTES.HOME}>Landing</Link> */}\r\n//       <Link to={ROUTES.HOME}>Home</Link>\r\n//       <Link to={ROUTES.ACCOUNT}>Account</Link>\r\n//     {!!authUser.roles[ROLES.ADMIN] && (\r\n//         <Link to={ROUTES.ADMIN}>Admin</Link>\r\n//     )}\r\n//       <SignOutButton />\r\n//   </div>\r\n// );\r\n\r\n// const NavigationNonAuth = () => (\r\n//   <div>\r\n//       <Link to={ROUTES.HOME}>Landing</Link>\r\n//       <Link to={ROUTES.SIGN_IN}>Sign In</Link>\r\n//   </div>\r\n// )\r\n \r\nexport default Navigation;","import React, { useEffect } from 'react';\r\n\r\nimport RTRLogo from '../../RTR_Logo.svg'\r\n\r\nimport { Grid, Container, Typography } from '@material-ui/core'\r\n \r\nfunction AboutUs(props) {\r\n  useEffect(() => {\r\n    props.setCurrentPage('aboutus')\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <Grid container spacing={3} direction='column' alignContent='center' style={{paddingTop: '30px'}}>\r\n        <Grid item xs align='center'>\r\n          <img src={RTRLogo}  />\r\n        </Grid>\r\n        <Grid item xs align='center'>\r\n          <Container maxWidth='md'>\r\n            <Typography component='div' variant='body1' style={{color: '#000000'}}>\r\n              Hello! My name is Justin Gruen. Thank you for stopping by! RecordTop \r\n              Records is an e-commerce website intended to be my SCE (Senior Capstone \r\n              Experience) to graduate from college. I built this site using React,\r\n              Nodejs, Firebase, and Material-UI.  In the future I hope to use this site, \r\n              and others I have developed, to procure a full-time web development role \r\n              as well as freelance for smaller businesses and nonprofits.\r\n\r\n              If you'd like to check out more works of mine, please visit \r\n              <a href=\"http://www.justingruen.com/\">www.justingruen.com</a>\r\n              \r\n            </Typography>\r\n          </Container>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n \r\nexport default AboutUs;","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport TurnTableImg from '../../turntable_1.jpg'\r\nimport RecordPlayer from '../../record-player.jpg'\r\nimport Vinyl from '../../vinyl_1.jpg'\r\nimport TurnTable2 from '../../turntable_2.jpg'\r\nimport Controls from '../Pieces/controls'\r\n\r\nimport { Container, Typography, Grid, makeStyles, Button, useMediaQuery, useTheme } from '@material-ui/core'\r\n\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: '100%',\r\n    background: `url(${TurnTableImg})`,\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: 'cover',\r\n  },\r\n  gridmain: {\r\n    paddingTop: '40px',\r\n    paddingBottom: '40px',\r\n  },\r\n  title: {\r\n    fontWeight: 600,\r\n    color: '#ffffff',\r\n  },\r\n  subtitle: {\r\n    fontWeight: 500,\r\n    color: '#ffffff'\r\n  },\r\n  catalogbutton: {\r\n    borderRadius: '0px',\r\n    backgroundColor: 'rgb(53,53,53)',\r\n  }\r\n}))\r\n \r\nfunction Home(props) {\r\n  const classes = useStyles()\r\n  const theme = useTheme()\r\n\r\n  const matches = {   //Could also use MUI Hidden component, which is cleaner?\r\n    xs: useMediaQuery(theme.breakpoints.only('xs')),\r\n    sm: useMediaQuery(theme.breakpoints.only('sm')),\r\n    md: useMediaQuery(theme.breakpoints.only('md')),\r\n    lg: useMediaQuery(theme.breakpoints.only('lg')),\r\n    xl: useMediaQuery(theme.breakpoints.only('xl')),\r\n    downsm: useMediaQuery(theme.breakpoints.down('sm')),\r\n  }\r\n\r\n  useEffect(() => {\r\n    props.setCurrentPage('home')\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Container maxWidth='false' disableGutters={true} className={ classes.main }>\r\n          <Grid container spacing={3} alignContent='center' direction='column' className={classes.gridmain}>\r\n            <Grid item xs align='center'>\r\n              <Typography component='div' variant='h2' className={ classes.title }>\r\n                Record Top Records\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs align='center'>\r\n              <Typography component='div' variant={matches.xs ? 'h6' : 'h5'} className={ classes.subtitle }>\r\n                Records for your record needs\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs align='center'>\r\n              <Link to={ROUTES.CATALOG} style={{ textDecoration: 'none' }}>\r\n                <Controls.Button\r\n                  type='button'\r\n                  variant='contained'\r\n                  color='primary'\r\n                  text='Catalog'\r\n                  size='large'\r\n                  className={ classes.catalogbutton }\r\n                />          \r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n        <Grid container spacing={false} alignContent='center' direction='column' style={{paddingTop: '80px'}}>\r\n          <Grid item xs align='center' style={{paddingBottom: '80px'}}>\r\n            <Container maxWidth='md'>\r\n              <Typography component='div' variant='body1' style={{fontSize: '20px'}}>\r\n                Welcome to RecordTop Records! This site is a marketplace for all things records.\r\n                Please feel free to visit our Catalog page to view our inventory and our About Us \r\n                page to learn more about who we are! Also, follow us @rtrofficial on both Twitter \r\n                and Instagram for updates! Thanks for stopping by! \r\n              </Typography>\r\n            </Container>\r\n          </Grid>\r\n          <Grid item container xs alignContent='center' justify='center'>\r\n            <Grid item>\r\n              <img src={RecordPlayer} width='100%'/>\r\n            </Grid>\r\n            <Grid item>\r\n              <img src={Vinyl} width='100%'/>\r\n            </Grid>\r\n            <Grid item>\r\n              <img src={TurnTable2} width='100%'/>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n\r\n      </div>\r\n      {/* <img src={TurnTableImg} alt=\"turntable\" /> */}\r\n    </div>\r\n  )\r\n}\r\n \r\nexport default Home;","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Link as MuiLink } from '@material-ui/core'\r\nimport { withFirebase } from '../Firebase'\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport AlbumIcon from '@material-ui/icons/Album'\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart'\r\nimport { Icon,\r\n  Typography,\r\n  Grid,\r\n  Drawer as MuiDrawer,\r\n  Menu,\r\n  MenuItem,\r\n  Paper,\r\n  Button,\r\n  IconButton,\r\n  ButtonBase\r\n} from '@material-ui/core'\r\nimport { useTheme } from '@material-ui/core/styles'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft'\r\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight'\r\n\r\nimport Controls from '../Pieces/controls'\r\nimport RTRLogo from '../../RTR_Logo.svg'\r\nimport SignInPage from '../SignIn/index'\r\nimport SignOut from '../SignOut/index'\r\nimport * as ROUTES from '../../constants/routes'\r\nimport * as ROLES from '../../constants/roles'\r\n\r\nconst useStyles = makeStyles((theme) => ({  //not sure what theme does here, but everything has it\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  rootcheckout: {\r\n    flexGrow: 1,\r\n    marginRight: '10px'\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    margin: 'auto',\r\n    maxWidth: 500,\r\n  },\r\n  image: {\r\n    width: 128,\r\n    height: 128,\r\n  },\r\n  img: {\r\n    margin: 'auto',\r\n    display: 'block',\r\n    maxWidth: '100%',\r\n    maxHeight: '100%',\r\n  },\r\n  menuitem: {\r\n    '&:hover': {\r\n      backgroundColor: \"#FFFFFF\",\r\n      cursor: 'default',\r\n    }\r\n  },\r\n  checkout: {\r\n    borderRadius: '0px',\r\n    backgroundColor: '#000000',\r\n    width: '100%'\r\n  }\r\n}));\r\n\r\nfunction CartMenu(props) {\r\n  const classes = useStyles()\r\n  const { anchorEl, setAnchorEl, cart, setCartUpdate } = props\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {cart.length !== 0 &&\r\n        <Menu \r\n        anchorEl={anchorEl}\r\n        keepMounted={true}\r\n        open={Boolean(anchorEl)}\r\n        onClose={() => setAnchorEl(false)}\r\n      >\r\n        {cart.map(item => (\r\n          <MenuItem key={item.uid} className={ classes.menuitem } button disableRipple={true}>\r\n            <CartItem item={item} setCartUpdate={setCartUpdate} cart={cart} />\r\n          </MenuItem>\r\n        ))}\r\n        <MenuItem className={ classes.menuitem } button disableRipple={true} >\r\n          <div className={ classes.rootcheckout } >\r\n            <Controls.Button\r\n              type='button'\r\n              variant='contained'\r\n              color='primary'\r\n              text='Checkout'\r\n              size='large'\r\n              fullWidth\r\n              className={classes.checkout}\r\n            />\r\n          </div>\r\n\r\n        </MenuItem>\r\n      </Menu>\r\n      }\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nfunction CartItemBase({item, setCartUpdate, cart}) {\r\n  const classes = useStyles()\r\n\r\n  function onArrowRightClick(itemUID) {\r\n    console.log('right')\r\n\r\n    let cartCopy = [...cart]\r\n\r\n    //find if item exists, just in case\r\n    let itemIndex = cartCopy.findIndex(item => item.uid == itemUID);\r\n\r\n    cartCopy[itemIndex].quantity += 1\r\n\r\n    let cartString = JSON.stringify(cartCopy);\r\n    localStorage.setItem('cart', cartString);\r\n\r\n    setCartUpdate(true)\r\n  }\r\n\r\n  function onArrowLeftClick(itemUID) {\r\n    console.log('left')\r\n\r\n    let cartCopy = [...cart]\r\n\r\n    //find if item exists, just in case\r\n    let itemIndex = cartCopy.findIndex(item => item.uid == itemUID);\r\n\r\n    if (cartCopy[itemIndex].quantity - 1 === 0) {\r\n      cartCopy.splice(itemIndex, 1)\r\n    } else {\r\n      cartCopy[itemIndex].quantity -= 1\r\n    }\r\n\r\n    let cartString = JSON.stringify(cartCopy);\r\n    localStorage.setItem('cart', cartString);\r\n\r\n    setCartUpdate(true)\r\n  }\r\n\r\n  function onRemoveClick(itemUID) {\r\n    let cartCopy = [...cart]\r\n\r\n    //find if item exists, just in case\r\n    let itemIndex = cartCopy.findIndex(item => item.uid == itemUID);\r\n\r\n    cartCopy.splice(itemIndex, 1)\r\n    \r\n    let cartString = JSON.stringify(cartCopy);\r\n    localStorage.setItem('cart', cartString);\r\n\r\n    setCartUpdate(true)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {/* <Paper className={classes.paper}> */}\r\n        <Grid container spacing={2}>\r\n          <Grid item>\r\n            <ButtonBase className={classes.image} disableRipple={true}>\r\n              <img className={classes.img} alt=\"complex\" src={item.imageurl} />\r\n            </ButtonBase>\r\n          </Grid>\r\n          <Grid item xs={12} sm container spacing={2}>\r\n            <Grid item xs container direction=\"column\" spacing={2}>\r\n              <Grid item xs>\r\n                <Typography gutterBottom variant=\"subtitle1\">\r\n                  {item.itemname}\r\n                </Typography>\r\n                <Typography variant=\"body2\" gutterBottom>\r\n                  {item.genre}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">\r\n                  ID: {item.uid}\r\n                </Typography>\r\n                <Typography variant=\"body1\" style={{ paddingTop: '10px'}}>\r\n                  Quantity: \r\n                  <IconButton onClick={() => onArrowLeftClick(item.uid)}>\r\n                    <ArrowLeftIcon fontSize='large' style={{ color: '#000000'}} />\r\n                  </IconButton>\r\n                  {item.quantity}\r\n                  <IconButton onClick={() => onArrowRightClick(item.uid)}>\r\n                    <ArrowRightIcon fontSize='large' style={{ color: '#000000'}} />\r\n                  </IconButton>\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <Button onClick={() => onRemoveClick(item.uid)} disableRipple={true} style={{padding: 0, backgroundColor: '#ffffff'}}>\r\n                  <Typography variant=\"body2\" style={{ cursor: 'pointer' }}>\r\n                    Remove\r\n                  </Typography>\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item xs container direction=\"column\" spacing={2}>\r\n              <Grid item xs>\r\n                <Typography variant=\"subtitle1\">${parseFloat((item.price * item.quantity).toFixed(2))}</Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <hr />\r\n      {/* </Paper> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst CartItem = withFirebase(CartItemBase)\r\n\r\nexport default CartMenu","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Link as MuiLink } from '@material-ui/core'\r\nimport { withFirebase } from '../Firebase'\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport AlbumIcon from '@material-ui/icons/Album'\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart'\r\nimport { Icon,\r\n  Typography,\r\n  Badge,\r\n  Slide,\r\n  useMediaQuery,\r\n  useScrollTrigger,\r\n  Grid,\r\n  Toolbar,\r\n  AppBar,\r\n  Avatar,\r\n  Hidden,\r\n  Container,\r\n  IconButton, \r\n  Drawer as MuiDrawer,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Menu,\r\n  MenuItem \r\n} from '@material-ui/core'\r\nimport { useTheme } from '@material-ui/core/styles'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\n\r\nimport RTRLogo from '../../RTR_Logo.svg'\r\nimport SignInPage from '../SignIn/index'\r\nimport SignOut from '../SignOut/index'\r\nimport * as ROUTES from '../../constants/routes'\r\nimport * as ROLES from '../../constants/roles'\r\n\r\nimport CartMenu from '../App/cartitem'\r\n\r\nconst useStyles = makeStyles((theme) => ({  //not sure what theme does here, but everything has it\r\n  appbar: {\r\n    background: 'rgba(255,255,255,0.5)',\r\n    marginBottom: '12px',\r\n  },\r\n  toolbar: {\r\n\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n  },\r\n  albumicon: {\r\n    backgroundColor: '#000000'\r\n  },\r\n  shoppingcarticon: {\r\n    justify: 'flex-end'\r\n  },\r\n  lefttypography: {\r\n\r\n  },\r\n  righttypography: {\r\n\r\n  },\r\n  containermainPC: {\r\n    paddingTop: '15px',\r\n    paddingBottom: '10px',\r\n    paddingLeft: '22px',\r\n    paddingRight: '45px', //Theres something off, go to catalog page, set this to 22, and look at the title\r\n  },\r\n  containermainMobile: {\r\n    paddingTop: '15px',\r\n    paddingBottom: '0px',\r\n    // paddingLeft: '22px',\r\n    // paddingRight: '22px',\r\n  },\r\n  iconbutton: {\r\n    \r\n  },\r\n  listxs: {\r\n    width: '380px',\r\n  },\r\n  list: {\r\n    [theme.breakpoints.only('xs')]: {\r\n      width: '280px'\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '380px'\r\n    },\r\n  },\r\n  listitem: {\r\n    '&:hover': {\r\n      backgroundColor: \"#FFFFFF\"\r\n    }\r\n  }\r\n}));\r\n\r\nfunction HideOnScroll(props) {\r\n  const { children, window } = props;\r\n  // Note that you normally won't need to set the window ref as useScrollTrigger\r\n  // will default to window.\r\n  // This is only being set here because the demo is in an iframe.\r\n  const trigger = useScrollTrigger();\r\n\r\n  return (\r\n    <Slide appear={false} direction=\"down\" in={!trigger}>\r\n      {children}\r\n    </Slide>\r\n  );\r\n}\r\n\r\nconst INITIAL_PAGE = {\r\n  home: 'hover',\r\n  catalog: 'hover',\r\n  aboutus: 'hover',\r\n}\r\n\r\n\r\nfunction AppNav(props) {\r\n  const { currentPage, authUser, cartUpdate, setCartUpdate } = props\r\n  const [cart, setCart] = useState([])\r\n  var localCart = localStorage.getItem('cart')\r\n  const [itemCount, setItemCount] = useState()\r\n  const [page, setPage] = useState(INITIAL_PAGE)\r\n  const [drawerState, setDrawerState] = useState(false)\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n  const classes = useStyles()\r\n  const theme = useTheme()\r\n\r\n  const [firebase] = useState(props.firebase)\r\n  const doSignOut = firebase.doSignOut\r\n\r\n  const authTabsList = [\r\n  {text: 'Catalog', route: 'CATALOG'}, \r\n  {text: 'About Us', route: 'ABOUTUS'}, \r\n  {text: 'Account', route: 'ACCOUNT'},\r\n  {text: 'Log Out', function: doSignOut}, \r\n  ]\r\n\r\n  const nonAuthTabsList = [\r\n    {text: 'Catalog', route: 'CATALOG'}, \r\n    {text: 'About Us', route: 'ABOUTUS'}, \r\n    {text: 'Log In', }, \r\n  ]\r\n\r\n  useEffect(() => {\r\n    if (cartUpdate) {\r\n      console.log('rerendering appnav')\r\n      let totalQuantity = 0\r\n\r\n      // Retrieve and set local cart\r\n      localCart = JSON.parse(localStorage.getItem('cart'))\r\n      if(localCart) {\r\n        // Set Cart\r\n        setCart(localCart)\r\n\r\n        // Set total item count\r\n        localCart.forEach(item => {\r\n          totalQuantity += item.quantity\r\n        })\r\n        setItemCount(totalQuantity)\r\n      }\r\n\r\n      setCartUpdate(false)\r\n    }\r\n  },[cartUpdate])\r\n\r\n  useEffect(() => {\r\n    for (const property in page) {\r\n      if (property === currentPage){\r\n        setPage({\r\n          ...INITIAL_PAGE,\r\n          [property]: 'always'\r\n        })\r\n        break\r\n      }\r\n    }\r\n  }, [currentPage])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <HideOnScroll {...props}> \r\n        <AppBar className={ classes.appbar }\r\n          elevation={0}\r\n          position='sticky' // Allows a component to exist above the appbar, but now it can't leave the div the appnav is in\r\n        >\r\n              \r\n          {/* AppBar | PC */}\r\n          <Hidden smDown>\r\n            <Container className={ classes.containermainPC } maxWidth='lg' disableGutters={true}>\r\n              <Toolbar\r\n                className={ classes.toolbar } // nullish coalescance & optional chaining <3\r\n                style={{justifyContent: 'center'}}\r\n              >\r\n                {/* Grid Starts Here */}\r\n                <Grid container justify='center' alignContent='center'>\r\n                  {/* Left Side | Logo */}\r\n                  <Grid item xs={3} align='flex-start'>\r\n                    <Link to={ROUTES.HOME} className={ classes.link }>\r\n                      <img src={RTRLogo} alt='logo' />\r\n                    </Link>\r\n                  </Grid>\r\n\r\n                  {/* Middle | Menu Items */}\r\n                  <Grid item container spacing={3} xs={6} justify='center' alignContent='center'>\r\n                    <Grid item>\r\n                      <MuiLink className={ classes.menulink } component='div' underline={page.catalog}>   {/* Not intended to be div */}\r\n                        <Link to={ROUTES.CATALOG} className={ classes.link }>\r\n                          <Typography component='div' variant='body1' style={{color: '#000000'}}>\r\n                            Catalog\r\n                          </Typography>\r\n                        </Link>\r\n                      </MuiLink>\r\n                    </Grid>\r\n                    <Grid item>\r\n                      <MuiLink className={ classes.menulink } component='div' underline={page.aboutus}>\r\n                        <Link to={ROUTES.ABOUTUS} className={ classes.link }>\r\n                          <Typography component='div' variant='body1' style={{color: '#000000'}}>\r\n                            About Us\r\n                          </Typography>\r\n                        </Link>\r\n                      </MuiLink>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                  {/* Right Side | Account, Cart */}\r\n                  <Grid item container justify='flex-end' alignContent='center' spacing={2} xs={3} direction='row'>\r\n                    {authUser\r\n                        ? <>\r\n                            <Grid item align='center' style={{paddingTop: '10px'}}>  \r\n                              <MuiLink className={ classes.menulink } component='div' underline={page.account} >  \r\n                                <Link to={ROUTES.ACCOUNT} className={ classes.link }>\r\n                                  <Typography component='div' variant='body1' style={{color: '#000000'}}>\r\n                                    Account\r\n                                  </Typography>\r\n                                </Link>\r\n                              </MuiLink> \r\n                            </Grid>\r\n                            <Grid item style={{paddingTop: '10px'}}>\r\n                              <SignOut />  \r\n                            </Grid>\r\n                          </>\r\n                        : <SignInPage stylelink={{paddingTop: '10px', paddingRight: '15px'}}/>\r\n                      }\r\n                      <IconButton className={ classes.iconbutton } onClick={event => setAnchorEl(event.currentTarget)} edge='end'>\r\n                        <Badge badgeContent={itemCount} color='secondary' >\r\n                          <ShoppingCartIcon style={{color: '#000000'}}/>\r\n                        </Badge>\r\n                      </IconButton>\r\n                  </Grid>\r\n                  {/* <Grid item xs={2} align='end'>\r\n                    <ShoppingCartIcon style={{color: '#000000', marginTop: '5px'}}/>\r\n                  </Grid> */}\r\n                </Grid>\r\n              </Toolbar>\r\n            </Container>\r\n          </Hidden>\r\n\r\n          {/* --------------------------------------------------------------------------------------- */}\r\n\r\n          {/* AppBar | Mobile */}\r\n          <Hidden mdUp>\r\n            <Container className={ classes.containermainMobile } maxWidth='xl' disableGutters={true}>\r\n              <Toolbar\r\n                className={ classes.toolbar } // nullish coalescance & optional chaining <3\r\n                style={{justifyContent: 'center'}}\r\n              >\r\n                {/* Grid Starts Here */}\r\n                <Grid container spacing={3} justify='space-between'>\r\n                  {/* Left Side | Logo */}\r\n                  <Grid item xs={6}>\r\n                    <Link to={ROUTES.HOME} className={ classes.link }>\r\n                      <img src={RTRLogo} alt='logo' />\r\n                    </Link>\r\n                  </Grid>\r\n\r\n                  {/* Middle */}\r\n                  <Grid item xs={3}>\r\n\r\n                  </Grid>\r\n\r\n                  {/* Right Side | Account, Cart */}\r\n                  <Grid item container xs={3} spacing={3} justify='flex-end' style={{paddingTop: '20px'}} wrap='nowrap'>\r\n                    <Grid item>\r\n                      <IconButton className={ classes.iconbutton } onClick={event => setAnchorEl(event.currentTarget)} edge='end'>\r\n                          <Badge badgeContent={itemCount} color='secondary' >\r\n                            <ShoppingCartIcon style={{color: '#000000'}}/>\r\n                          </Badge>\r\n                      </IconButton>\r\n                    </Grid>\r\n                    <Grid item>\r\n                      <IconButton className={ classes.iconbutton } onClick={() => setDrawerState(true)} edge='end'>\r\n                        <MenuIcon style={{color: '#000000'}}/>\r\n                      </IconButton>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Toolbar>\r\n            </Container>\r\n          </Hidden>\r\n        </AppBar>\r\n      </HideOnScroll>\r\n\r\n      {authUser\r\n        ? <Drawer drawerState={drawerState} setDrawerState={setDrawerState} tabsList={authTabsList} />\r\n        : <Drawer drawerState={drawerState} setDrawerState={setDrawerState} tabsList={nonAuthTabsList} />\r\n      }\r\n      <CartMenu anchorEl={anchorEl} setAnchorEl={setAnchorEl} cart={cart} setCartUpdate={setCartUpdate}/>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nfunction Drawer(props) {\r\n  const classes = useStyles()\r\n  const { drawerState, setDrawerState, tabsList } = props\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <MuiDrawer anchor='left' open={drawerState} onClose={() => setDrawerState(false)}>\r\n        <Grid container spacing={0} alignContent='center' style={{ paddingTop: '20px', paddingBottom: '10px'}}>\r\n          <Grid item xs={3} align='center'>\r\n            <AlbumIcon fontSize='large' style={{width: '50px', height: '50px'}} />\r\n          </Grid>\r\n          <Grid item xs={6} />\r\n          <Grid item container xs={3} alignContent='center' justify='center'>\r\n            <IconButton onClick={() => setDrawerState(false)}>\r\n              <CloseIcon fontSize='large' style={{width: '40px', height: '40px'}} />\r\n            </IconButton>\r\n          </Grid>\r\n        </Grid>\r\n        <List className={ classes.list }>\r\n          {tabsList.map(tab => (\r\n            <ListItem button key={tab.text} className={ classes.listitem } disableRipple={true} \r\n              onClick={tab.function}  // This causes log out to auto-close the drawer, is this ok?\r\n            >\r\n              {tab.text !== 'Log In'\r\n              ? <Link to={ROUTES[tab.route] || ''} className={ classes.link } onClick={() => setDrawerState(false)}>\r\n                  <ListItemText primary={tab.text} />\r\n                </Link>\r\n              : <SignInPage />\r\n              }\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </MuiDrawer>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default withFirebase(AppNav)","import React, { useState, useEffect } from 'react'\r\nimport { withFirebase } from '../Firebase'\r\n\r\nimport AppNav from '../App/appnav'\r\nimport Controls from '../Pieces/controls'\r\n\r\nimport { makeStyles,\r\n  Grid,\r\n  Paper,\r\n  Container,\r\n  ButtonBase,\r\n  Typography,\r\n  Hidden\r\n} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    margin: 'auto',\r\n    maxWidth: 500,\r\n  },\r\n  image: {\r\n    width: 256,\r\n    height: 256,\r\n  },\r\n  img: {\r\n    margin: 'auto',\r\n    display: 'block',\r\n    // width: '100%',\r\n    // height: '100%',\r\n    maxWidth: '100%',\r\n    maxHeight: '256px',\r\n    minWidth: '256px',\r\n    minHeight: '256px',\r\n    objectFit: 'fill',\r\n  },\r\n  addButton: {\r\n    borderRadius: '0px',\r\n    backgroundColor: '#000000'\r\n  }\r\n}));\r\n\r\nconst INITIAL_STATE = {\r\n  loading: true,\r\n  items: [],\r\n  itemsmatrix2: [[],[]],\r\n  itemsmatrix3: [[],[],[]],\r\n}\r\n\r\nfunction CatalogBase(props) {\r\n  const [state, setState] = useState(INITIAL_STATE)\r\n  const [firebase] = useState(props.firebase)\r\n  const classes = useStyles()\r\n  const [callBack, setCallBack] = useState(false)\r\n\r\n  const [cart, setCart] = useState([])\r\n  var localCart = localStorage.getItem('cart')\r\n\r\n  useEffect(() => {\r\n    props.setCurrentPage('catalog')\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setState({ ...state, loading: true})\r\n\r\n    firebase.items().once('value', snapshot => {\r\n      const itemsObject = snapshot.val()\r\n\r\n      if (itemsObject === null) {\r\n        setState({\r\n          ...state,\r\n          loading: false\r\n        })\r\n      } else {\r\n        const itemsList = Object.keys(itemsObject).map(key => ({\r\n          ...itemsObject[key],\r\n          uid: key,\r\n        }))\r\n\r\n        // Two Column Matrix\r\n        let cols2 = [[],[]]   // There's got to be a better way of doing this\r\n        let col2 = 0\r\n        itemsList.forEach(item => {\r\n          cols2[col2].push(item)\r\n          col2++\r\n          if (col2 === 2) col2 = 0\r\n        });\r\n\r\n        if (cols2[1].length < cols2[0].length) {\r\n          cols2[1].push({\r\n            uid: 'a',\r\n            donotuse: true,\r\n          })\r\n        }\r\n\r\n        // Three Column Matrix\r\n        let cols3 = [[],[],[]]   // There's got to be a better way of doing this\r\n        let col3 = 0\r\n        itemsList.forEach(item => {\r\n          cols3[col3].push(item)\r\n          col3++\r\n          if (col3 === 3) col3 = 0\r\n        });\r\n\r\n        if (cols3[1].length < cols3[0].length) {\r\n          cols3[1].push({\r\n            uid: 'a',\r\n            donotuse: true,\r\n          })\r\n        }\r\n        if (cols3[2].length < cols3[0].length) {\r\n          cols3[2].push({\r\n            uid: 'b',\r\n            donotuse: true,\r\n          })\r\n        }\r\n\r\n        setState({\r\n          items: itemsList,\r\n          itemsmatrix2: cols2,\r\n          itemsmatrix3: cols3,\r\n          loading: false,\r\n        })\r\n\r\n        setCallBack(true)\r\n      }\r\n    })\r\n\r\n\r\n    return () => firebase.items().off()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (props.cartUpdate) {\r\n      console.log('rerendering catalog')\r\n      \r\n      // Set cart\r\n      localCart = JSON.parse(localCart)\r\n      if (localCart) setCart(localCart)\r\n\r\n      props.setCartUpdate(false)\r\n    }\r\n  },[props.cartUpdate])\r\n\r\n  function addItem(item) {\r\n    // Create a copy of our cart state, avoid overwriting existing state\r\n    let cartCopy = [...cart]\r\n\r\n    // Assuming we have an ID field in our item\r\n    let {uid} = item\r\n    let tempitem = item\r\n\r\n    // Look for item in cart array\r\n    let existingItem = cartCopy.find(cartItem => cartItem.uid === uid)\r\n\r\n    // If item already exists\r\n    if (existingItem) {\r\n      existingItem.quantity += 1\r\n    } else {\r\n      tempitem = {\r\n        ...tempitem,\r\n        quantity: 1\r\n      }\r\n      cartCopy.push(tempitem)\r\n    }\r\n\r\n    // Update state\r\n    setCart(cartCopy)\r\n\r\n    // Make cart a string and store in local\r\n    let stringCart = JSON.stringify(cartCopy)\r\n    localStorage.setItem('cart', stringCart)\r\n\r\n    props.setCartUpdate(true)\r\n  }\r\n\r\n  function CustomPaper({item}) {\r\n    return (\r\n      <div className={classes.root}>\r\n        <Paper className={classes.paper} elevation={0}>\r\n          <Grid container spacing={2} justify='center' direction='column'>\r\n            <Grid item className={classes.img}>\r\n              <img className={classes.img} alt=\"complex\" src={item.imageurl} />\r\n            </Grid>\r\n            <Grid item>\r\n              <Typography variant=\"body1\" gutterBottom>\r\n                {item.itemname}\r\n              </Typography>\r\n              <Typography variant=\"body2\" gutterBottom>\r\n                {item.genre}\r\n              </Typography>\r\n              <Typography variant=\"body2\" gutterBottom>\r\n                ${item.price}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item>\r\n              <Controls.Button\r\n                type='submit'\r\n                variant='contained'\r\n                color='primary'\r\n                text='Add To Cart'\r\n                size='large'\r\n                fullWidth\r\n                className={classes.addButton}\r\n                onClick={() => addItem(item)}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n        <Container maxWidth='lg' className={classes.root}>\r\n          <Typography variant='h4' align='center' gutterBottom={true} style={{fontWeight: 'bold', marginTop: '20px', marginBottom: '20px'}}>\r\n            Products\r\n          </Typography>\r\n          <Typography variant='body1' align='center' gutterBottom={true} style={{fontStyle: 'italic', marginTop: '20px', marginBottom: '20px'}}>\r\n            {state.items.length} Products\r\n          </Typography>\r\n          {/* Non-mobile 3 */}\r\n          <Hidden mdDown>\r\n            <Grid container spacing={3} justify='center'>\r\n                {state.itemsmatrix3.map(row =>\r\n                  <Grid container item xs={4} spacing={3} direction='column' key={state.itemsmatrix3.indexOf(row)}>\r\n                    {row.map(item =>\r\n                      <div key={item.uid}>\r\n                        {item.uid !== 'a' && item.uid !== 'b'\r\n                        ?   <Grid item align='center' style={{padding: '15px'}}>\r\n                              <CustomPaper item={item}/>\r\n                            </Grid>\r\n                        :   item.uid === 'a'  ?   <Grid item></Grid> : item.uid === 'b'\r\n                        ?   <Grid item></Grid> : null\r\n                        }\r\n                      </div>\r\n                    )}\r\n                  </Grid>\r\n                )}\r\n            </Grid>\r\n          </Hidden>\r\n\r\n          {/* Non-mobile 2 */}\r\n          <Hidden smDown lgUp>\r\n            <Grid container spacing={3} justify='center'>\r\n                {state.itemsmatrix2.map(row =>\r\n                  <Grid container item xs={6} spacing={3} direction='column' key={state.itemsmatrix2.indexOf(row)}>\r\n                    {row.map(item =>\r\n                      <div key={item.uid}>\r\n                        {item.uid !== 'a' && item.uid !== 'b'\r\n                        ?   <Grid item align='center' style={{padding: '15px'}}>\r\n                              <CustomPaper item={item}/>\r\n                            </Grid>\r\n                        :   item.uid === 'a'  ?   <Grid item></Grid> : item.uid === 'b'\r\n                        ?   <Grid item></Grid> : null\r\n                        }\r\n                      </div>\r\n                    )}\r\n                  </Grid>\r\n                )}\r\n            </Grid>\r\n          </Hidden>\r\n\r\n        {/* Mobile */}\r\n        <Hidden mdUp>\r\n          <Grid container spacing={3} justify='center' direction='column'>\r\n            {state.items.map(item =>\r\n              <Grid item key={item.uid} align='center' style={{padding: '15px'}}>\r\n                <CustomPaper item={item}/>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </Hidden>\r\n      </Container>\r\n    </div>\r\n\r\n      // {/* {state.items.map(item =>\r\n      //   <div key={item.uid}>\r\n      //     <p>{item.itemname}</p>\r\n      //     <p>{item.price}</p>\r\n      //   </div> \r\n      // )} */}\r\n  )\r\n}\r\n\r\nconst Catalog = withFirebase(CatalogBase)\r\n\r\nexport default Catalog","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../Firebase'\r\n\r\nconst INITIAL_STATE = {\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null\r\n}\r\n\r\nclass PasswordChangeForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = { ...INITIAL_STATE}\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { passwordOne } = this.state\r\n\r\n    this.props.firebase\r\n      .doPasswordUpdate(passwordOne)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE })\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error })\r\n      })\r\n\r\n    event.preventDefault()\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value})\r\n  }\r\n\r\n  render() {\r\n    const { passwordOne, passwordTwo, error } = this.state\r\n\r\n    const isInvalid = \r\n      passwordOne !== passwordTwo || passwordOne === ''\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name='passwordOne'\r\n          value={this.state.passwordOne}\r\n          onChange={this.onChange}\r\n          type='text'\r\n          placeholder=\"New Password\"\r\n        />\r\n        <input\r\n          name='passwordTwo'\r\n          value={this.state.passwordTwo}\r\n          onChange={this.onChange}\r\n          type='text'\r\n          placeholder='Confirm New Password'\r\n        />\r\n        <button disabled={isInvalid} type='submit'>\r\n          Reset My Password\r\n        </button>\r\n \r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withFirebase(PasswordChangeForm);","import React, { Component, useEffect } from 'react';\r\nimport { compose } from 'recompose'\r\n\r\nimport {\r\n  AuthUserContext,\r\n  withAuthorization,\r\n  withEmailVerification,\r\n} from '../Session';\r\nimport { PasswordForgetForm } from '../PasswordForget'\r\nimport { withFirebase } from '../Firebase'\r\nimport PasswordChangeForm from '../PasswordChange'\r\n\r\nimport { Dialog, Button, Grid, Container } from '@material-ui/core'\r\n\r\nconst SIGN_IN_METHODS = [\r\n  {\r\n    id: 'password',\r\n    provider: null,\r\n  },\r\n  {\r\n    id: 'google.com',\r\n    provider: 'googleProvider'\r\n  }\r\n]\r\n \r\nfunction AccountPage(props){\r\n  useEffect(() => {\r\n    props.setCurrentPage('account')\r\n  }, [])\r\n\r\n  return (\r\n    <AuthUserContext.Consumer>\r\n      {authUser => (\r\n        <div>\r\n          <h3>Account: {authUser.email}</h3>\r\n\r\n          <Container maxWidth='xl' style={{padding: '40px'}}>\r\n            <Grid container direction='column' style={{border: '1px solid #00000050'}}>\r\n              <br />\r\n              <Grid item>\r\n                <p>Change your pass!</p>\r\n                <PasswordChangeForm />\r\n              </Grid>\r\n              <Grid item>\r\n                <br />\r\n                <hr />\r\n                <br />\r\n              </Grid>\r\n              <Grid item>\r\n                <LoginManagement authUser={authUser} />\r\n              </Grid>\r\n            </Grid>\r\n          </Container>\r\n\r\n          {/* <PasswordForgetForm /> */}\r\n        </div>\r\n      )}\r\n    </AuthUserContext.Consumer>\r\n  )\r\n}\r\n\r\nclass LoginManagementBase extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      activeSignInMethods: [],\r\n      error: null,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchSignInMethods()\r\n  }\r\n\r\n  fetchSignInMethods = () => {\r\n    this.props.firebase.auth\r\n      .fetchSignInMethodsForEmail(this.props.authUser.email)\r\n      .then(activeSignInMethods =>\r\n        this.setState({ activeSignInMethods, error: null }),\r\n      )\r\n      .catch(error => this.setState({ error }));\r\n  }\r\n\r\n  onSocialLoginLink = provider => {\r\n    this.props.firebase.auth.currentUser\r\n      .linkWithPopup(this.props.firebase[provider])\r\n      .then(this.fetchSignInMethods)\r\n      .catch(error => this.setState({ error }))\r\n  }\r\n\r\n  onUnlink = providerId => {\r\n    this.props.firebase.auth.currentUser\r\n      .unlink(providerId)\r\n      .then(this.fetchSignInMethods)\r\n      .catch(error => this.setState({ error }));\r\n  }\r\n\r\n  onDefaultLoginLink = password => {\r\n    const credential = this.props.firebase.emailAuthProvider.credential(\r\n      this.props.authUser.email,\r\n      password,\r\n    )\r\n\r\n    this.props.firebase.auth.currentUser\r\n      .linkAndRetrieveDataWithCredential(credential)\r\n      .then(this.fetchSignInMethods)\r\n      .catch(error => this.setState({ error }))\r\n  }\r\n\r\n  \r\n\r\n  render() {\r\n    const { activeSignInMethods, error } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        Sign In Methods:\r\n        <ul>\r\n          {SIGN_IN_METHODS.map(signInMethod => {\r\n            const onlyOneLeft = activeSignInMethods.length === 1;\r\n            const isEnabled = activeSignInMethods.includes(\r\n              signInMethod.id,\r\n            );\r\n\r\n            return (\r\n              <li key={signInMethod.id}>\r\n                {signInMethod.id === 'password' ? (\r\n                  <DefaultLoginToggle\r\n                    onlyOneLeft={onlyOneLeft}\r\n                    isEnabled={isEnabled}\r\n                    signInMethod={signInMethod}\r\n                    onLink={this.onDefaultLoginLink}\r\n                    onUnlink={this.onUnlink}\r\n                  />\r\n                ) : (\r\n                  <SocialLoginToggle\r\n                    onlyOneLeft={onlyOneLeft}\r\n                    isEnabled={isEnabled}\r\n                    signInMethod={signInMethod}\r\n                    onLink={this.onSocialLoginLink}\r\n                    onUnlink={this.onUnlink}\r\n                  />\r\n                )}\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n        {error && error.message}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst SocialLoginToggle = ({\r\n  onlyOneLeft,\r\n  isEnabled,\r\n  signInMethod,\r\n  onLink,\r\n  onUnlink,\r\n}) => \r\n  isEnabled ? (\r\n    <button \r\n      type='button' \r\n      onClick={() => onUnlink(signInMethod.id)}\r\n      disabled={onlyOneLeft}\r\n    >\r\n      Deactive {signInMethod.id}\r\n    </button>\r\n  ) : (\r\n    <button \r\n      type='button' \r\n      onClick={() => onLink(signInMethod.provider)}\r\n    >\r\n      Link {signInMethod.id}\r\n    </button>\r\n  );\r\n\r\nclass DefaultLoginToggle extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { passwordOne: '', passwordTwo: ''}\r\n  }\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault()\r\n\r\n    this.props.onLink(this.state.passwordOne)\r\n    this.setState({ passwordOne: '', passwordTwo: ''})\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      onlyOneLeft,\r\n      isEnabled,\r\n      signInMethod,\r\n      onUnlink,\r\n    } = this.props;\r\n\r\n    const { passwordOne, passwordTwo } = this.state;\r\n\r\n    const isInvalid = \r\n      passwordOne !== passwordTwo || passwordOne === '';\r\n\r\n    return isEnabled ? (\r\n      <button\r\n        type='button'\r\n        onClick={() => onUnlink(signInMethod.id)}\r\n        disabled={onlyOneLeft}\r\n      >\r\n        Deactivate {signInMethod.id}\r\n      </button>\r\n    ) : (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name=\"passwordOne\"\r\n          value={passwordOne}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"New Password\"\r\n        />\r\n        <input\r\n          name=\"passwordTwo\"\r\n          value={passwordTwo}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Confirm New Password\"\r\n        />\r\n\r\n        <button disabled={isInvalid} type='submit'>\r\n          Link {signInMethod.id}\r\n        </button>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst condition = authUser => !!authUser\r\n\r\nconst LoginManagement = withFirebase(LoginManagementBase)\r\n \r\n// without email verification\r\n// export default withAuthorization(condition)(AccountPage)\r\n\r\nexport default compose(\r\n  withEmailVerification,\r\n  withAuthorization(condition),\r\n)(AccountPage)","import React, { useState } from 'react'\r\nimport { makeStyles, Table, TableCell, TableHead, TablePagination, TableRow, TableSortLabel } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  table: {\r\n    marginTop: theme.spacing(3),\r\n    '& thead th': {\r\n      fontWeight: '600',\r\n      color: '#000000',\r\n      backgroundColor: theme.palette.primary.main + '75',\r\n    },\r\n    '& tbody td': {\r\n      fontWeight: '300',\r\n    },\r\n    '& tbody tr:hover': {\r\n      backgroundColor: '#fffbf2',\r\n      cursor: 'pointer',\r\n    }\r\n  }\r\n}))\r\n\r\nexport default function useTable(records, headCells, filterFn) {\r\n  const classes = useStyles()\r\n\r\n  const pages = [5, 10, 25]\r\n  const [page, setPage] = useState(0)\r\n  const [rowsPerPage, setRowsPerPage] = useState(pages[page]) //Aka pages[0]\r\n  const [order, setOrder] = useState()\r\n  const [orderBy, setOrderBy] = useState()\r\n  \r\n  const TblContainer = props => (\r\n    <Table className={classes.table}>\r\n      {props.children}\r\n    </Table>\r\n  )\r\n\r\n  const TblHead = props => {\r\n    const handleSortRequest = cellId => {\r\n      const isAsc = orderBy === cellId && order === 'asc'\r\n      setOrder(isAsc ? 'desc' : 'asc')\r\n      setOrderBy(cellId)\r\n    }\r\n\r\n    return (\r\n      <TableHead>\r\n         <TableRow>\r\n          {headCells.map(headCell => (\r\n            <TableCell key={headCell.id} sortDirection={orderBy === headCell.id ? order : false}>\r\n              {headCell.disabledSorting ? headCell.label : \r\n                <TableSortLabel\r\n                  active={orderBy === headCell.id}\r\n                  direction={orderBy === headCell.id ? order : 'asc'}\r\n                  onClick={() => {handleSortRequest(headCell.id)}}\r\n                >\r\n                  {headCell.label}\r\n                </TableSortLabel>\r\n              }\r\n            </TableCell>\r\n          ))}\r\n         </TableRow>\r\n      </TableHead>\r\n    )\r\n  }\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage)\r\n  }\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10))\r\n    setPage(0)\r\n  }\r\n\r\n  const TblPagination = () => (\r\n    <TablePagination\r\n      component='div'\r\n      page={page}\r\n      rowsPerPageOptions={pages}\r\n      rowsPerPage={rowsPerPage}\r\n      count={records.length}\r\n      onChangePage={handleChangePage}\r\n      onChangeRowsPerPage={handleChangeRowsPerPage}\r\n    />\r\n  )\r\n\r\n  function stableSort(array, comparator){\r\n    const stabilizedThis = array.map((el, index) => [el, index])\r\n    stabilizedThis.sort((a, b) => {\r\n      const order = comparator(a[0], b[0])\r\n      if (order !== 0) return order\r\n      return a[1] - b[1]\r\n    })\r\n    return stabilizedThis.map((el) => el[0])\r\n  }\r\n\r\n  function getComparator(order, orderBy) {\r\n    return order === 'desc'\r\n      ? (a, b) => descendingComparator(a, b, orderBy)\r\n      : (a, b) => -descendingComparator(a, b, orderBy)\r\n  }\r\n\r\n  function descendingComparator(a, b, orderBy) {\r\n    if (b[orderBy] < a[orderBy]) {\r\n      return -1\r\n    }\r\n    if (b[orderBy] > a[orderBy]) {\r\n      return 1\r\n    }\r\n    return 0\r\n  }\r\n\r\n  const recordsAfterPagingAndSorting = () => {\r\n    return stableSort(filterFn.fn(records), getComparator(order, orderBy))\r\n      .slice(page*rowsPerPage, (page+1)*rowsPerPage)\r\n  }\r\n  \r\n  return {\r\n    TblContainer,\r\n    TblHead,\r\n    TblPagination,\r\n    recordsAfterPagingAndSorting,\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { withFirebase } from '../Firebase'\r\n\r\nimport useForm, { Form } from '../Pieces/useform'\r\nimport Controls from '../Pieces/controls'\r\nimport { Container, makeStyles, CssBaseline } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    marginTop: theme.spacing(0),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  logo: {\r\n    //TODO: Make logo bigger\r\n    margin: theme.spacing(2),\r\n    backgroundColor: '#000000',\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(0),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2)\r\n  },\r\n}))\r\n\r\nconst INITIAL_STATE = {\r\n  loading: false,\r\n  username: '',\r\n  error: null\r\n} \r\n\r\nfunction UserDetailsBase(props) {\r\n  const validate = (fieldValues = state) => {\r\n    let temp = {...errors}\r\n    if('username' in fieldValues)\r\n      temp.username = fieldValues.username ? '' : 'This field is required'\r\n    setErrors({\r\n      ...temp\r\n    })\r\n\r\n    if(fieldValues == state)\r\n      return Object.values(temp).every(x => x === '')\r\n  }\r\n\r\n  const classes = useStyles()\r\n  const { state, setState, errors, setErrors, handleInputChange } = useForm(INITIAL_STATE, true, validate)\r\n  const { userForEdit } = props\r\n  const [firebase] = useState(props.firebase)\r\n  const { setOpenPopup, setNotify } = props\r\n\r\n  function onSubmit(e){\r\n    e.preventDefault()\r\n    if(validate()){\r\n      firebase\r\n        .user(state.uid)\r\n        .update({\r\n          username: state.username\r\n        })\r\n      \r\n      setOpenPopup(false)\r\n      setNotify({\r\n        isOpen: true,\r\n        message: 'Submitted!',\r\n        type: 'success'\r\n      })\r\n    }\r\n  }\r\n\r\n  const resetForm = () => { //\r\n    setState({\r\n      ...userForEdit\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(userForEdit != null)\r\n      setState({\r\n        ...userForEdit,\r\n      })\r\n  }, [userForEdit])\r\n\r\n  return(\r\n    <div>\r\n      <Container component='main' maxWidth='xs'>\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Form className={classes.form} onSubmit={onSubmit}>\r\n            <Controls.Input\r\n              name='username'\r\n              label='Full name'\r\n              margin='normal'\r\n              value={state.username || ''}\r\n              onChange={handleInputChange}\r\n              error={ errors.username }\r\n              fullWidth\r\n              autoFocus\r\n            />\r\n            <Controls.Button\r\n              type='submit'\r\n              variant='contained'\r\n              color='primary'\r\n              size='large'\r\n              text='Submit'\r\n              fullWidth\r\n              className={classes.submit}\r\n            />          \r\n            <Controls.Button     //TODO: Reset is buggy with errors... I wonder if on reset I could set all errors to null?\r\n              variant='contained'\r\n              color='primary'\r\n              size='large'\r\n              text='Reset'\r\n              fullWidth\r\n              onClick={resetForm}\r\n            />\r\n          </Form>\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst UserDetails = withFirebase(UserDetailsBase)\r\n\r\nexport default UserDetails\r\n","import React from 'react'\r\nimport { Snackbar, makeStyles } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    top: theme.spacing(15)\r\n  }\r\n}))\r\n\r\nexport default function Notification(props) {\r\n\r\n  const { notify, setNotify} = props\r\n  const classes = useStyles()\r\n\r\n  const handleClose = (event, reason) => {\r\n    setNotify({\r\n      ...notify,\r\n      isOpen: false\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Snackbar\r\n      className={classes.root}\r\n      open={notify.isOpen}\r\n      autoHideDuration={3000} //TODO: Why doesnt this work?\r\n      anchorOrigin={{vertical: 'top', horizontal: 'right'}}\r\n      onClose={handleClose}\r\n    >\r\n      <Alert severity={notify.type} onClose={handleClose}>\r\n        {notify.message}\r\n      </Alert>\r\n    </Snackbar>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { withFirebase } from '../Firebase'\r\n\r\nimport useTable from '../Pieces/usetable'\r\nimport UserForm from './userform'\r\nimport Controls from '../Pieces/controls'\r\nimport { makeStyles, Hidden, Paper, CircularProgress, Toolbar, TableBody, TableRow, TableCell, InputAdornment } from '@material-ui/core'\r\nimport Search from '@material-ui/icons/Search'\r\nimport Notification from \"../Pieces/notification\";\r\n\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Popup from '../Pieces/popup'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  pageContent: {\r\n    margin: theme.spacing(5),\r\n    padding: theme.spacing(3)\r\n  },\r\n  searchInput: {\r\n    width: '75%'\r\n  }\r\n}))\r\n\r\nconst INITIAL_STATE = {\r\n  loading: true,\r\n  users: [],\r\n}\r\n\r\nconst headCells = [\r\n  {id: 'username', label: 'Full Name'},\r\n  {id: 'email', label: 'Email'},\r\n  {id: 'isAdmin', label: 'Administrator'},  // TODO: Sorting doesn't work\r\n  {id: 'actions', label: 'Actions', disableSorting: true}\r\n]\r\n\r\nfunction UserListBase(props) {\r\n  const [state, setState] = useState(INITIAL_STATE)\r\n  const [filterFn, setFilterfn] = useState({fn: items => {return items}})\r\n  const [openPopup, setOpenPopup] = useState(false)\r\n  const [userForEdit, setUserForEdit] = useState(null)\r\n  const [notify, setNotify] = useState({isOpen: false, message: '', type: ''})\r\n  const [firebase] = useState(props.firebase)\r\n  const classes = useStyles()\r\n  const { TblContainer,  TblHead, TblPagination, recordsAfterPagingAndSorting } = useTable(state.users, headCells, filterFn)\r\n\r\n  useEffect(() => {\r\n    setState({ ...state, loading: true })\r\n\r\n    firebase.users().on('value', snapshot => {\r\n      const usersObject = snapshot.val()\r\n\r\n      const usersList = Object.keys(usersObject).map(key => ({\r\n        ...usersObject[key],\r\n        uid: key,\r\n      }))\r\n\r\n      setState({\r\n        users: usersList,\r\n        loading: false,\r\n      })\r\n    });\r\n\r\n    return () => firebase.users().off()\r\n  }, [])\r\n\r\n  // useEffect(() => {\r\n  //   console.log(state)\r\n  // }, [state])\r\n\r\n  const handleSearch = e => {\r\n    let target = e.target\r\n    setFilterfn({\r\n      fn: items => {\r\n        if(target.value == '')\r\n          return items\r\n        else\r\n          return items.filter(x => x.username.includes(target.value))\r\n      }\r\n    })\r\n  }\r\n\r\n  const openInPopup = user => {\r\n    setUserForEdit(user)\r\n    setOpenPopup(true)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Users</h2>\r\n      <Hidden mdUp>\r\n          <p>Please use a larger screen to view table</p>\r\n      </Hidden>\r\n      <Hidden smDown>\r\n        {state.loading && <CircularProgress />} {/* TODO: Center this? */}\r\n        <Paper className={classes.pageContent}>\r\n          <Toolbar>\r\n            <Controls.Input\r\n              className={classes.searchInput}\r\n              label='Search Users'\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position='start'>\r\n                    <Search />\r\n                  </InputAdornment>\r\n                )\r\n              }}\r\n              onChange={handleSearch}\r\n            />\r\n          </Toolbar>\r\n          <TblContainer>\r\n            <TblHead />\r\n            <TableBody>\r\n              {recordsAfterPagingAndSorting().map(user =>\r\n                <TableRow key={user.uid}>\r\n                  <TableCell>{user.username}</TableCell>\r\n                  <TableCell>{user.email}</TableCell>\r\n                  <TableCell>{user?.roles?.ADMIN || ''}</TableCell>\r\n                  <TableCell>  {/* TODO: Buttons next to each other */}\r\n                    <Controls.ActionButton\r\n                      color='secondary'\r\n                      onClick={() => {openInPopup(user)}}\r\n                    >\r\n                      <EditIcon fontSize='small' />\r\n                    </Controls.ActionButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </TblContainer>\r\n          <TblPagination />\r\n        </Paper>\r\n        <Popup\r\n          title='Edit User'\r\n          openPopup={openPopup}\r\n          setOpenPopup={setOpenPopup}\r\n          closePopup={() => setOpenPopup(false)}\r\n        >\r\n          <UserForm \r\n            userForEdit={userForEdit}\r\n            setOpenPopup={setOpenPopup}\r\n            setNotify={setNotify}\r\n          />\r\n        </Popup>\r\n        <Notification \r\n          notify={notify}\r\n          setNotify={setNotify}\r\n        />\r\n      </Hidden>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst UserList = withFirebase(UserListBase)\r\n\r\nexport default UserList","import React from 'react'\r\nimport { IconButton, Dialog, DialogTitle, DialogContent, DialogActions, Typography, makeStyles } from '@material-ui/core'\r\nimport Controls from './controls'\r\nimport { NotListedLocation } from '@material-ui/icons'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  dialog: {\r\n    padding: theme.spacing(2),\r\n    position: 'absolute',\r\n    top: theme.spacing(5),\r\n  },\r\n  dialogTitle: {\r\n    textAlign: 'center'\r\n  },\r\n  dialogContent: {\r\n    textAlign: 'center'\r\n  },\r\n  dialogActions: {\r\n    justifyContent: 'center'\r\n  },\r\n  titleIcon: {\r\n    backgroundColor: '#ffd0cc',\r\n    color: '#ff4081',\r\n    '&:hover': {\r\n      backgroundColor: '#ffd0cc',\r\n      cursor: 'default'\r\n    },\r\n    '& .MuiSvgIcon-root': {\r\n      fontSize: '8rem',\r\n    }\r\n  },\r\n}))\r\n\r\nexport default function ConfirmDialog(props) {\r\n\r\n  const { confirmDialog, setConfirmDialog } = props\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <Dialog classes={{paper: classes.dialog}} open={confirmDialog.isOpen}>\r\n      <DialogTitle className={classes.dialogTitle}>\r\n        <IconButton disableRipple className={classes.titleIcon}>\r\n          <NotListedLocation />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent className={classes.dialogContent}>\r\n        <Typography variant='h6'>\r\n          {confirmDialog.title}\r\n        </Typography>\r\n        <Typography variant='subtitle2'>\r\n          {confirmDialog.subtitle}\r\n        </Typography>\r\n      </DialogContent>\r\n      <DialogActions className={classes.dialogActions}>\r\n        <Controls.Button\r\n          text='No'\r\n          color='default'\r\n          onClick={() => setConfirmDialog({ ...confirmDialog, isOpen: false})}\r\n        />\r\n        <Controls.Button\r\n          text='Yes'\r\n          color='secondary'\r\n          onClick={confirmDialog.onConfirm}\r\n        />\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { withFirebase } from '../Firebase'\r\n\r\nimport useForm, { Form } from '../Pieces/useform'\r\nimport Controls from '../Pieces/controls'\r\nimport { Grid, Typography, Button as MuiButton, Container, makeStyles, CssBaseline } from '@material-ui/core'\r\nimport { TrendingUpSharp } from '@material-ui/icons'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    marginTop: theme.spacing(0),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  logo: {\r\n    //TODO: Make logo bigger\r\n    margin: theme.spacing(2),\r\n    backgroundColor: '#000000',\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(0),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2)\r\n  },\r\n  imageprev: {\r\n    maxWidth: '100%',\r\n    height: 'auto',\r\n  }\r\n}))\r\n\r\nconst INITIAL_STATE = {\r\n  loading: false,\r\n  itemname: '',\r\n  price: '',\r\n  genre: '',\r\n  image: '',\r\n  imageprev: '',\r\n  error: null\r\n} \r\n\r\nfunction ItemDetailsBase(props) {\r\n  const validate = (fieldValues = state) => {\r\n    let temp = {...errors}\r\n    if('itemname' in fieldValues)\r\n      temp.itemname = fieldValues.itemname ? '' : 'This field is required'\r\n    if('price' in fieldValues)  // This regex was the best I could find (also found: (/^\\d+(,\\d{3})*(\\.\\d{2,2})?$/) )\r\n      temp.price = fieldValues.price ?  (/\\d+\\.\\d{2,2}?$/).test(fieldValues.price) ? '' : 'Price must be in xx.xx format' : 'This field is required'\r\n    if('genre' in fieldValues)\r\n      temp.genre = fieldValues.genre ? '' : 'This field is required'\r\n    if('image' in fieldValues)\r\n      temp.image = fieldValues.image ? '' : 'This field is required'\r\n    setErrors({\r\n      ...temp\r\n    })\r\n\r\n    if(fieldValues == state)\r\n      return Object.values(temp).every(x => x === '')\r\n  }\r\n\r\n  const classes = useStyles()\r\n  const { state, setState, errors, setErrors, handleInputChange } = useForm(INITIAL_STATE, true, validate)\r\n  const [ originalName, setOriginalName ] = useState('')\r\n  const [ imageChange, setImageChange ] = useState(false)\r\n  const { itemForEdit } = props\r\n  const [firebase] = useState(props.firebase)\r\n  const { setOpenPopup, setNotify, createNew, setCreateNew, itemsList } = props\r\n\r\n  function onSubmit(e){\r\n    e.preventDefault()\r\n    if(errors.image) setState({ ...state, error: 'Image field is required'})  //TODO: This doesnt work, it did the thing twice\r\n    if(validate()){\r\n\r\n      //1) if new imagename is not equal to old image name\r\n      //2) check for image name in all items\r\n      //3) if you see it, return\r\n      //4) if not, delete the image from the firebase prodimages\r\n      if (createNew){ \r\n          firebase.prodimage(state.image.name).put(state.image)\r\n          .then(() => {\r\n            firebase.prodimage(state.image.name).getDownloadURL()\r\n            .then(url => {\r\n              firebase.items().push({\r\n                itemname: state.itemname,\r\n                price: state.price,\r\n                genre: state.genre,\r\n                image: state.image.name,\r\n                imageurl: url\r\n              })\r\n            })\r\n          })\r\n\r\n//TODO: Currently does not work if same image is uploaded twice. it reuploads so it overwrites download url\r\n//TODO: Also, how does new and update work with images of the same name? Maybe give an image some form of uid?\r\n\r\n          // let itemwithsameimage = cartCopy.find(cartItem => cartItem.image === state.image.name)\r\n\r\n          // firebase.items()\r\n          //   .orderByChild('image')\r\n          //   .equalTo(state.image.name)\r\n          //   .on(\"value\", snapshot => {\r\n          //     if (snapshot.exists())\r\n          //       console.log(itemsList)\r\n          //     })\r\n\r\n        setCreateNew(false)\r\n      } else {\r\n        if(imageChange) {\r\n          firebase.items()\r\n            .orderByChild('image')\r\n            .equalTo(originalName)\r\n            .on(\"value\", snapshot => {\r\n              if (!snapshot.exists())\r\n                firebase.prodimage(originalName).delete()\r\n              })\r\n\r\n          firebase.prodimage(state.image.name).put(state.image)\r\n          .then(() => {\r\n            firebase.prodimage(state.image.name).getDownloadURL()\r\n            .then(url => {\r\n              firebase.items().push({\r\n                itemname: state.itemname,\r\n                price: state.price,\r\n                genre: state.genre,\r\n                image: state.image.name,\r\n                imageurl: url\r\n              })\r\n            })\r\n          })\r\n        } else {\r\n          firebase\r\n          .item(state.uid)\r\n          .update({\r\n            itemname: state.itemname,\r\n            price: state.price,\r\n            genre: state.genre,\r\n            image: state.image.name,\r\n            imageurl: state.imageurl\r\n          })\r\n        }\r\n      }\r\n      \r\n      setOpenPopup(false)\r\n      setNotify({\r\n        isOpen: true,\r\n        message: 'Submitted!',\r\n        type: 'success'\r\n      })\r\n    }\r\n  }\r\n\r\n  const resetForm = () => {\r\n    setState({\r\n      ...itemForEdit,\r\n      image: {\r\n        name: itemForEdit.image\r\n      },\r\n      imageprev: itemForEdit.imageurl\r\n    })\r\n\r\n    setOriginalName(itemForEdit.image)\r\n    setImageChange(false)\r\n  }\r\n\r\n  const imageOnChange = (e) => {\r\n    if (e.target.files[0].type !== 'image/jpeg' && e.target.files[0].type !== 'image/png'){\r\n      setState({\r\n        ...state,\r\n        error: 'File must be .jpeg or .png'\r\n      })\r\n      return\r\n    }\r\n    \r\n    let reader = new FileReader()\r\n    let file = e.target.files[0]\r\n\r\n    reader.onloadend = () => {\r\n      setState({\r\n        ...state,\r\n        image: file,\r\n        imageprev: reader.result\r\n      })\r\n      setImageChange(true)\r\n    }\r\n\r\n    if (e.target.files[0].size > 4000000)\r\n      alert('File size cannot exceed more then 4MB')\r\n    else\r\n      reader.readAsDataURL(file)\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(itemForEdit != null){\r\n      // firebase.prodimage(itemForEdit.image).getDownloadURL()\r\n      //   .then(url => {\r\n          setState({\r\n            ...itemForEdit,\r\n            image: {\r\n              name: itemForEdit.image\r\n            },\r\n            imageprev: itemForEdit.imageurl\r\n          })\r\n        // })\r\n      setOriginalName(itemForEdit.image)\r\n    }\r\n  }, [itemForEdit])\r\n\r\n  return(\r\n    <div>\r\n      <Container component='main' maxWidth='xs'>\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Form className={classes.form} onSubmit={onSubmit}>\r\n            <Controls.Input\r\n              name='itemname'\r\n              label='Item name'\r\n              margin='normal'\r\n              value={state.itemname || ''}\r\n              onChange={handleInputChange}\r\n              error={ errors.itemname }\r\n              fullWidth\r\n              autoFocus\r\n            />\r\n            <Controls.Input\r\n              name='price'\r\n              label='Price (USD)'\r\n              margin='normal'\r\n              value={state.price || ''}\r\n              onChange={handleInputChange}\r\n              error={ errors.price }\r\n              // type='number'\r\n              fullWidth\r\n            />\r\n            <Controls.Input\r\n              name='genre'\r\n              label='Main Genre'\r\n              margin='normal'\r\n              value={state.genre || ''}\r\n              onChange={handleInputChange}\r\n              error={ errors.genre }\r\n              fullWidth\r\n            />\r\n            <Grid container display='flex' alignItems='center' style={{marginBottom: '20px'}}>\r\n              <Grid item style={{marginRight: '5px'}}>\r\n                <MuiButton\r\n                  variant=\"contained\"\r\n                  component=\"label\"\r\n                  style={{marginTop:'10px'}}\r\n                >\r\n                  Upload File\r\n                  <input\r\n                    type=\"file\"\r\n                    accept='image/*'\r\n                    style={{ display: \"none\" }}\r\n                    onChange={imageOnChange}\r\n                  />\r\n                </MuiButton>\r\n              </Grid>\r\n              <Grid item>\r\n                <Typography component='div' variant='body1' align='center'>\r\n                    {state?.image?.name}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            {state.imageprev &&\r\n              <img className={classes.imageprev} src={state.imageprev} alt='Not found' />\r\n            }\r\n            {/* {state.imageprev &&\r\n              <img className={classes.imageprev} src={state.imageurl} alt='Not found' />\r\n            } */}\r\n            {state.error && \r\n              <Typography variant='body1' component='div' align='center' style={{color: 'red'}}>\r\n                {state.error}\r\n              </Typography>\r\n            }\r\n            <Controls.Button\r\n              type='submit'\r\n              variant='contained'\r\n              color='primary'\r\n              size='large'\r\n              text='Submit'\r\n              fullWidth\r\n              className={classes.submit}\r\n            />          \r\n            <Controls.Button\r\n              variant='contained'\r\n              color='primary'\r\n              size='large'\r\n              text='Reset'\r\n              fullWidth\r\n              onClick={resetForm}\r\n            />\r\n          </Form>\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ItemDetails = withFirebase(ItemDetailsBase)\r\n\r\nexport default ItemDetails\r\n\r\n//TODO: Note, this whole image deal-y could definitely stand to be cleaned up. And maybe add download url to the item? this would allow easy url in the table","import React, { useState, useEffect } from 'react'\r\nimport { withFirebase } from '../Firebase'\r\n\r\nimport useTable from '../Pieces/usetable'\r\nimport ConfirmDialog from '../Pieces/confirmdialog'\r\nimport ItemForm from './itemform'\r\nimport Controls from '../Pieces/controls'\r\nimport { makeStyles, Hidden, Button as MuiButton, Paper, CircularProgress, Toolbar, TableBody, TableRow, TableCell, InputAdornment } from '@material-ui/core'\r\nimport Search from '@material-ui/icons/Search'\r\nimport Notification from \"../Pieces/notification\"\r\n\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport Popup from '../Pieces/popup'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  pageContent: {\r\n    margin: theme.spacing(5),\r\n    padding: theme.spacing(3),\r\n  },\r\n  searchInput: {\r\n    width: '75%'\r\n  },\r\n  newButton: {\r\n    position: 'absolute',\r\n    right: '10px',\r\n    marginBottom: '50px'\r\n  }\r\n}))\r\n\r\nconst INITIAL_STATE = {\r\n  loading: true,\r\n  items: [],\r\n}\r\n\r\nconst headCells = [\r\n  {id: 'itemname', label: 'Item Name'},\r\n  {id: 'price', label: 'Price (USD)'},\r\n  {id: 'genre', label: 'Genre'},\r\n  {id: 'image', label: 'Image'},\r\n  {id: 'actions', label: 'Actions', disableSorting: true},\r\n]\r\n\r\nfunction ItemListBase(props) {\r\n  const [state, setState] = useState(INITIAL_STATE)\r\n  const [filterFn, setFilterfn] = useState({fn: items => {return items}})\r\n  const [openPopup, setOpenPopup] = useState(false)\r\n  const [itemForEdit, setItemForEdit] = useState(null)\r\n  const [notify, setNotify] = useState({isOpen: false, message: '', type: ''})\r\n  const [firebase] = useState(props.firebase)\r\n  const [confirmDialog, setConfirmDialog] = useState({isOpen: false, title:'', subTitle: ''})\r\n  const [createNew, setCreateNew] = useState(false)\r\n  const classes = useStyles()\r\n  const { TblContainer,  TblHead, TblPagination, recordsAfterPagingAndSorting } = useTable(state.items, headCells, filterFn)\r\n\r\n  useEffect(() => {\r\n    setState({ ...state, loading: true })\r\n\r\n    firebase.items().on('value', snapshot => {\r\n      const itemsObject = snapshot.val()\r\n\r\n      if (itemsObject === null){\r\n        setState({\r\n          ...state,\r\n          loading: false\r\n        })\r\n      } else {\r\n        const itemsList = Object.keys(itemsObject).map(key => ({\r\n          ...itemsObject[key],\r\n          uid: key,\r\n        }))\r\n  \r\n        setState({\r\n          items: itemsList,\r\n          loading: false,\r\n        })\r\n      }\r\n    });\r\n\r\n    return () => firebase.items().off()\r\n  }, [])\r\n\r\n  // useEffect(() => {\r\n  //   console.log(state)\r\n  // }, [state])\r\n\r\n  const handleSearch = e => {\r\n    let target = e.target\r\n    setFilterfn({\r\n      fn: items => {\r\n        if(target.value == '')\r\n          return items\r\n        else\r\n          return items.filter(x => x.itemname.includes(target.value))\r\n      }\r\n    })\r\n  }\r\n\r\n  const openInPopup = item => {\r\n    setItemForEdit(item)\r\n    setOpenPopup(true)\r\n  }\r\n\r\n  const deleteRecord = (uid, image) => {\r\n    setConfirmDialog({\r\n      ...confirmDialog,\r\n      isOpen: false\r\n    })\r\n\r\n    firebase\r\n    .item(uid)\r\n    .remove()\r\n    .then(() => {\r\n      firebase.items()    //TODO: Does this even work?\r\n        .orderByChild('image')\r\n        .equalTo(image)\r\n        .on(\"value\", snapshot => {\r\n          if (!snapshot.exists())\r\n            firebase.prodimage(image).delete()\r\n          })\r\n    }).then(\r\n      setNotify({\r\n        isOpen: true,\r\n        message: 'Deleted Successfully!',\r\n        type: 'error'\r\n      })\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Items</h2>\r\n        <Hidden mdUp>\r\n          <p>Please use a larger screen to view table</p>\r\n        </Hidden>\r\n        <Hidden smDown>\r\n          {state.loading && <CircularProgress />} {/* TODO: Center this? */}\r\n          <Paper className={classes.pageContent}>\r\n            <Toolbar>\r\n              <Controls.Input\r\n                className={classes.searchInput}\r\n                label='Search Items'\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position='start'>\r\n                      <Search />\r\n                    </InputAdornment>\r\n                  )\r\n                }}\r\n                onChange={handleSearch}\r\n              />\r\n              <Controls.Button\r\n                className={classes.newButton}\r\n                color='primary'\r\n                text='Add New'\r\n                variant='outlined'\r\n                startIcon={<AddIcon />}\r\n                onClick={() => {\r\n                  setCreateNew(true)\r\n                  openInPopup()\r\n                }}\r\n              />\r\n            </Toolbar>\r\n            <TblContainer>\r\n              <TblHead />\r\n              <TableBody>\r\n                {recordsAfterPagingAndSorting().map(item =>\r\n                  <TableRow key={item.uid}>\r\n                    <TableCell>{item.itemname}</TableCell>\r\n                    <TableCell>${item.price}</TableCell>\r\n                    <TableCell>{item.genre}</TableCell>\r\n                    <TableCell><a href={item.imageurl} target=\"_blank\">Link</a></TableCell>\r\n                    <TableCell>  {/* TODO: Buttons next to each other */}\r\n                      <Controls.ActionButton\r\n                        color='secondary'\r\n                        onClick={() => {openInPopup(item)}}\r\n                      >\r\n                        <EditIcon fontSize='small' />\r\n                      </Controls.ActionButton>\r\n                      <Controls.ActionButton\r\n                          color='primary'\r\n                          onClick={() => \r\n                            setConfirmDialog({\r\n                              isOpen: true,\r\n                              title: 'Are you sure you want to delete this record?',\r\n                              subTitle: \"You can't undo this operation.\",\r\n                              onConfirm: () => {deleteRecord(item.uid, item.image)}\r\n                            })\r\n                          }\r\n                        >\r\n                          <CloseIcon fontSize='small' />\r\n                        </Controls.ActionButton>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                )}\r\n              </TableBody>\r\n            </TblContainer>\r\n            <TblPagination />\r\n          </Paper>\r\n          <Popup\r\n            title='Edit Item'\r\n            openPopup={openPopup}\r\n            setOpenPopup={setOpenPopup}\r\n            closePopup={() => setOpenPopup(false)}\r\n          >\r\n            <ItemForm \r\n              itemForEdit={itemForEdit}\r\n              setOpenPopup={setOpenPopup}\r\n              setNotify={setNotify}\r\n              createNew={createNew}\r\n              setCreateNew={setCreateNew}\r\n              itemsList={state.items}\r\n            />\r\n          </Popup>\r\n          <Notification \r\n            notify={notify}\r\n            setNotify={setNotify}\r\n          />\r\n          <ConfirmDialog \r\n            confirmDialog={confirmDialog}\r\n            setConfirmDialog={setConfirmDialog}\r\n          />\r\n        </Hidden>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst ItemList = withFirebase(ItemListBase)\r\n\r\nexport default ItemList","import React, { useEffect } from 'react';\r\nimport { Switch, Route, useHistory } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport { withAuthorization, withEmailVerification } from '../Session';\r\nimport * as ROLES from '../../constants/roles';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nimport UserList from './userlist'\r\nimport ItemList from './itemslist'\r\n\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\n//TODO: Set this page\r\nconst useStyles = makeStyles(theme => ({\r\n  pageContent: {\r\n    margin: theme.spacing(5),\r\n    padding: theme.spacing(3)\r\n  }\r\n}))\r\n\r\nfunction AdminPage(props) {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    props.setCurrentPage('admin')\r\n  }, [])\r\n\r\n  return (\r\n    <div style={{paddingTop: '30px'}}>\r\n      <button type='button' onClick={() => {\r\n        history.push(ROUTES.ADMIN_USERS)\r\n      }}>\r\n        User Details\r\n      </button>\r\n\r\n      <button type='button' onClick={() => {\r\n        history.push(ROUTES.ADMIN_ITEMS)\r\n      }}>\r\n        Item Details\r\n      </button>\r\n\r\n      <br />\r\n      ______________________________________________________________\r\n\r\n      <Switch>\r\n        <Route exact path={ROUTES.ADMIN_USERS} component={UserList} />\r\n        <Route exact path={ROUTES.ADMIN_ITEMS} component={ItemList} />\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst condition = authUser =>\r\n  authUser && !!authUser.roles[ROLES.ADMIN];\r\n\r\nexport default compose(\r\n  withEmailVerification,\r\n  withAuthorization(condition),\r\n)(AdminPage)","import React from 'react'\r\nimport { Container, Typography } from '@material-ui/core'\r\n\r\nexport default function TopBanner() {\r\n  return ( \r\n    <Container style={{backgroundColor: '#353535'}} maxWidth={false} disableGutters>\r\n      <Typography component='div' variant='subtitle1' align='center' \r\n        style={{backgroundColor: '#353535', color: '#FFFFFF', paddingTop: '11px', paddingBottom: '11px', paddingLeft: '10px', paddingRight: '10px'}}\r\n      >\r\n        <b>Enter 'RECORDTOP' at checkout for 10% off in honor of our Grand Opening!</b>\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport {BrowserRouter as Router} from 'react-router-dom'\r\n\r\nimport Copyright from '../ExtraComponents/copyright'\r\nimport Navigation from '../Navigation/index'\r\n\r\nimport { makeStyles, Container, Grid, Typography, Link as MuiLink, Box, useMediaQuery } from '@material-ui/core'\r\nimport { useTheme } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  maincontainer: {\r\n    backgroundColor: '#f6f6f6',\r\n    color: '#000000',\r\n    // marginTop: 'calc(5% + 60px)',\r\n    bottom: 0,\r\n    marginTop: '65px'\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n  },\r\n  topgrid: {\r\n    flexGrow: 1,\r\n  },\r\n  quicklinks: {\r\n    [theme.breakpoints.only('xs')]: {\r\n      paddingLeft: '40px'\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      paddingLeft: '80px'\r\n    },\r\n  }\r\n}))\r\n\r\nfunction Footer() {\r\n  const classes = useStyles()\r\n  const theme = useTheme()\r\n\r\n  return (\r\n    <div>\r\n      <Container className={ classes.maincontainer } maxWidth={false} disableGutters={true} style={{paddingBottom: '15px'}}>\r\n        <Container maxWidth='lg' style={{paddingTop: '40px', paddingBottom: '15px'}}>\r\n          <Grid container spacing={3} className={ classes.topgrid } \r\n            direction={useMediaQuery(theme.breakpoints.only('xs')) ? 'column' : 'row'} \r\n            justify='space-around' \r\n          >\r\n            <Grid item container xs={6} sm={3} alignContent={useMediaQuery(theme.breakpoints.only('xs')) ? 'flex-start' : 'flex-end'} direction='column' className={ classes.gridlinks }> \r\n              <Grid item>\r\n                <Typography component='div' variant='body1' align='left' style={{fontWeight: 'bold'}}>\r\n                  Quick Links\r\n                </Typography>\r\n              </Grid>\r\n              <br />\r\n              <Grid item>\r\n                <Navigation />\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item xs={1} sm={6} />\r\n            <Grid item container xs={6} sm={3}  direction='column'>\r\n              <Grid item>\r\n                <Typography component='div' variant='body1' align='left' style={{fontWeight: 'bold'}}>\r\n                  Contact\r\n                </Typography>\r\n              </Grid>\r\n              <br />\r\n              <Grid item>\r\n                <Typography component='div' variant='body1' align='left' style={{marginBottom: '10px'}}>\r\n                  Email - rtr123@gmail.com\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <Typography component='div' variant='body1' align='left' style={{marginBottom: '10px'}}>\r\n                  Twitter - @rtrofficial\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <Typography component='div' variant='body1' align='left'>\r\n                  Ig - @rtrofficial\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n\r\n        <Container maxWidth='md'>\r\n          <Copyright style={{padding: 20, color: '#000000'}} />\r\n        </Container>\r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\nimport {Drawer as MuiDrawer, List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n\r\n  },\r\n  drawer: {\r\n\r\n  },\r\n}))\r\n\r\nfunction Drawer(props) {\r\n  const classes = useStyles()\r\n  const tabsList = [{text: 'Catalog'}, {text: 'About Us'}, {text: 'Account'}]\r\n  return (\r\n    <MuiDrawer variant='permanent'>\r\n      <List>\r\n        {tabsList.map((item, index) => (\r\n          <ListItem button key={item.text}>\r\n            <ListItemText primary={item.text} />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </MuiDrawer>\r\n  )\r\n}\r\n\r\nexport default Drawer","import React, { useState } from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\n \r\nimport Navigation from '../Navigation';\r\nimport AboutUsPage from '../AboutUs'\r\nimport HomePage from '../Home';\r\nimport CatalogPage from '../Catalog';\r\nimport AccountPage from '../Account';\r\nimport AdminPage from '../Admin';\r\n\r\nimport AppNav from './appnav'\r\nimport TopBanner from './TopBanner'\r\nimport Footer from '../Footer'\r\nimport Drawer from '../ExtraComponents/drawer'\r\n\r\nimport { ThemeProvider } from '@material-ui/styles'\r\nimport { createMuiTheme } from '@material-ui/core/styles'\r\n \r\nimport { AuthUserContext } from '../Session'\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { withAuthentication } from '../Session';\r\nimport { makeStyles, CssBaseline, Container, Grid } from '@material-ui/core';\r\n\r\n  const theme = createMuiTheme({\r\n    palette: {\r\n      primary: {\r\n        main: '#457B9D'\r\n      },\r\n      secondary: {\r\n        main: '#E63946'\r\n      },\r\n      background: {\r\n        default: '#ffffff'\r\n      }\r\n    },\r\n    typography: {\r\n      fontFamily: [\r\n        'Montserrat, sans-serif',\r\n      ]\r\n    },\r\n    overrides: {\r\n      MuiCssBaseline: {\r\n        '@global': {\r\n          '@font-face': []\r\n        }\r\n      }\r\n    },\r\n    props: {\r\n      MuiIconButton: {\r\n        disableRipple: true\r\n      }\r\n    },\r\n    overrides: {\r\n      MuiIconButton: {\r\n        root: {\r\n          '&:hover': {\r\n            backgroundColor: \"$labelcolor\"\r\n          }\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n  const useStyles = makeStyles(() => ({\r\n    top: {\r\n      margin: 0,\r\n      minHeight: '100vh',\r\n      display: 'flex',\r\n      flexFlow: 'column',\r\n    },\r\n    main: {\r\n      flexGrow: 1,\r\n    }\r\n  }))\r\n \r\nfunction App() {\r\n  const classes = useStyles()\r\n  const [currentPage, setCurrentPage] = useState()\r\n  const [cartUpdate, setCartUpdate] = useState(true)\r\n\r\n  return(\r\n    <Router>\r\n      <div className={ classes.top }>\r\n        <ThemeProvider theme={theme}>\r\n          <CssBaseline />\r\n          <div className={ classes.main }>\r\n              {/* <Router> */}\r\n            <div>\r\n              {currentPage === 'home' && <TopBanner />}\r\n\r\n              <AuthUserContext.Consumer>\r\n                {authUser =>\r\n                  <React.Fragment>\r\n                    <AppNav \r\n                      authUser={authUser}\r\n                      currentPage={currentPage}\r\n                      cartUpdate={cartUpdate}\r\n                      setCartUpdate={setCartUpdate}\r\n                    />\r\n                  </React.Fragment>\r\n                }\r\n              </AuthUserContext.Consumer>\r\n\r\n              <Route exact path={ROUTES.HOME} render={() => (\r\n                  <HomePage setCurrentPage={setCurrentPage} />\r\n                )}\r\n              />\r\n              <Route exact path={ROUTES.CATALOG} render={() => (\r\n                  <CatalogPage\r\n                    setCurrentPage={setCurrentPage}\r\n                    cartUpdate={cartUpdate}\r\n                    setCartUpdate={setCartUpdate}\r\n                  />\r\n                )}\r\n              />\r\n              <Route path={ROUTES.ABOUTUS} render={() => (\r\n                  <AboutUsPage setCurrentPage={setCurrentPage} />\r\n                )}\r\n              />\r\n              <Route exact path={ROUTES.ACCOUNT} render={() => (\r\n                  <AccountPage setCurrentPage={setCurrentPage} />\r\n                )}\r\n              />\r\n              <Route path={ROUTES.ADMIN} render={() => (\r\n                  <AdminPage setCurrentPage={setCurrentPage} />\r\n                )}\r\n              />\r\n            </div>\r\n          </div>\r\n          <Container maxWidth={false} disableGutters={true}>\r\n            <Footer />\r\n          </Container>\r\n        </ThemeProvider>\r\n      </div>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default withAuthentication(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './components/App'\nimport Firebase, { FirebaseContext } from './components/Firebase'\n\n\nReactDOM.render(\n    <FirebaseContext.Provider value={new Firebase()}>\n      <App />\n    </FirebaseContext.Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/RTR_Logo.78c611a5.svg\";"],"sourceRoot":""}